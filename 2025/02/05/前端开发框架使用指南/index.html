<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>前端开发框架使用指南 | Funny Blog</title><meta name="author" content="Funny Boy"><meta name="copyright" content="Funny Boy"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="第一部分:框架代码获取介绍简介Ebs Vue3 Template 一款基于 Vue3.3、TypeScript、Vite5、Pinia、Element-Plus的前端模板框架，使用目前最新技术栈开发。项目提供了登录页面，错误页面，左右布局组件，选人组件等在一定程度上节省您的开发效率。另外本项目还封装了一些常用组件、hooks、指令、动态路由、按钮级别权限控制等功能。 需要掌握的基础知识 本项目基于">
<meta property="og:type" content="article">
<meta property="og:title" content="前端开发框架使用指南">
<meta property="og:url" content="https://752841728.github.io/2025/02/05/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/index.html">
<meta property="og:site_name" content="Funny Blog">
<meta property="og:description" content="第一部分:框架代码获取介绍简介Ebs Vue3 Template 一款基于 Vue3.3、TypeScript、Vite5、Pinia、Element-Plus的前端模板框架，使用目前最新技术栈开发。项目提供了登录页面，错误页面，左右布局组件，选人组件等在一定程度上节省您的开发效率。另外本项目还封装了一些常用组件、hooks、指令、动态路由、按钮级别权限控制等功能。 需要掌握的基础知识 本项目基于">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://752841728.github.io/img/avatar.jpg">
<meta property="article:published_time" content="2025-02-05T15:27:17.000Z">
<meta property="article:modified_time" content="2025-02-05T04:03:57.399Z">
<meta property="article:author" content="Funny Boy">
<meta property="article:tag" content="Vue">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://752841728.github.io/img/avatar.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://752841728.github.io/2025/02/05/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '前端开发框架使用指南',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-02-05 04:03:57'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">23</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-star"></i><span> 收藏</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="Funny Blog"><span class="site-name">Funny Blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-star"></i><span> 收藏</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">前端开发框架使用指南</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-02-05T15:27:17.000Z" title="发表于 2025-02-05 15:27:17">2025-02-05</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-02-05T04:03:57.399Z" title="更新于 2025-02-05 04:03:57">2025-02-05</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="前端开发框架使用指南"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="第一部分-框架代码获取"><a href="#第一部分-框架代码获取" class="headerlink" title="第一部分:框架代码获取"></a>第一部分:框架代码获取</h1><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p><a target="_blank" rel="noopener" href="https://gitee.com/funny_boy/ebs_vue3_template">Ebs Vue3 Template</a> 一款基于 Vue3.3、TypeScript、Vite5、Pinia、Element-Plus的前端模板框架，使用目前最新技术栈开发。项目提供了登录页面，错误页面，左右布局组件，选人组件等在一定程度上节省您的开发效率。另外本项目还封装了一些常用组件、hooks、指令、动态路由、按钮级别权限控制等功能。</p>
<h3 id="需要掌握的基础知识"><a href="#需要掌握的基础知识" class="headerlink" title="需要掌握的基础知识"></a>需要掌握的基础知识</h3><ul>
<li>本项目基于 Vue3.3、Vite5、TS、Pinia、Element-Plus，Vxe Table 开发，并全部采用了的单文件组件 <code>＜script setup＞</code> 写法。</li>
<li>建议您在开发前先学习以下内容，提前了解和学习这些知识，会对项目理解非常有帮助：<ul>
<li><a target="_blank" rel="noopener" href="https://cn.vuejs.org/guide/introduction.html">Vue3 文档</a></li>
<li><a target="_blank" rel="noopener" href="https://router.vuejs.org/zh/guide/">Vue-Router 文档</a></li>
<li><a target="_blank" rel="noopener" href="https://cn.vitejs.dev/guide/">Vite 文档</a></li>
<li><a target="_blank" rel="noopener" href="https://www.typescriptlang.org/zh/docs/">TypeScript 文档</a></li>
<li><a target="_blank" rel="noopener" href="https://pinia.web3doc.top/introduction.html">Pinia 文档</a></li>
<li><a target="_blank" rel="noopener" href="https://element-plus.org/zh-CN/component/button.html">Element-Plus 文档</a></li>
<li><a target="_blank" rel="noopener" href="https://vxetable.cn/v4/#/component/table/base/basic">Vxe Table 文档</a></li>
<li><a target="_blank" rel="noopener" href="http://10.11.228.190:8889/">koron-ui文档</a></li>
<li><a target="_blank" rel="noopener" href="https://es6.ruanyifeng.com/">ES6 教程</a></li>
<li><a target="_blank" rel="noopener" href="https://www.tailwindcss.cn/docs/installation">tailwindcss文档</a></li>
</ul>
</li>
</ul>
<h3 id="关于版本更新"><a href="#关于版本更新" class="headerlink" title="关于版本更新"></a>关于版本更新</h3><ul>
<li>本项目后期将会经历不断的更新迭代，后期尽量不进行破坏性更新。对于大多数前端项目框架，它们无法像 npm 包那样平滑的升级版本，因此我们为此给出一些升级的建议。</li>
<li>在编写代码时，应尽量避免修改核心部分。如果业务需要对框架核心内容进行修改，请记录下修改内容，以免在之后的升级过程中被覆盖掉。</li>
</ul>
<h3 id="浏览器支持"><a href="#浏览器支持" class="headerlink" title="浏览器支持"></a>浏览器支持</h3><ul>
<li>本地开发推荐使用 Chrome 最新版浏览器 <a target="_blank" rel="noopener" href="https://www.google.com/intl/zh-CN/chrome/">Download</a>。</li>
<li>生产环境支持现代浏览器，不在支持 IE 浏览器，更多浏览器可以查看 <a target="_blank" rel="noopener" href="https://caniuse.com/?search=ESModule">Can I Use Es Module</a>。</li>
</ul>
<table>
<thead>
<tr>
<th align="center"><img src="https://raw.githubusercontent.com/alrra/browser-logos/master/src/archive/internet-explorer_9-11/internet-explorer_9-11_48x48.png">IE</th>
<th align="center"><img src="https://raw.githubusercontent.com/alrra/browser-logos/master/src/edge/edge_48x48.png">Edge</th>
<th align="center"><img src="https://raw.githubusercontent.com/alrra/browser-logos/master/src/firefox/firefox_48x48.png">Firefox</th>
<th align="center"><img src="https://raw.githubusercontent.com/alrra/browser-logos/master/src/chrome/chrome_48x48.png">Chrome</th>
<th align="center"><img src="https://raw.githubusercontent.com/alrra/browser-logos/master/src/safari/safari_48x48.png">Safari</th>
</tr>
</thead>
<tbody><tr>
<td align="center">not support</td>
<td align="center">last 2 versions</td>
<td align="center">last 2 versions</td>
<td align="center">last 2 versions</td>
<td align="center">last 2 versions</td>
</tr>
</tbody></table>
<h2 id="快速上手（重点）"><a href="#快速上手（重点）" class="headerlink" title="快速上手（重点）"></a>快速上手（重点）</h2><p>本章节会帮助你从头启动、搭建此项目</p>
<h3 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h3><p>本地环境需要安装 <a target="_blank" rel="noopener" href="https://nodejs.org/en/">Node.js 20.x+</a>、<a target="_blank" rel="noopener" href="https://git-scm.com/">Git</a></p>
<p>:::warning<br>Node.js 版本推荐安装 <strong>20+</strong> 以上，版本过低依赖包可能安装失败。</p>
<p>默认使用 npm 作为安装依赖包工具，使用 yarn、npm 没有 lock 可能会安装到最新版依赖。</p>
<p>:::</p>
<h3 id="工具配置"><a href="#工具配置" class="headerlink" title="工具配置"></a>工具配置</h3><p>本项目推荐使用 VSCode 进行开发，项目里面已内置 VSCode 配置，包含推荐的插件和设置。</p>
<blockquote>
<p>🌈 推荐安装以下插件：</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=Vue.volar">Vue Language Features (Volar)</a> &#x3D;&#x3D;&gt; Vue3 官方插件</li>
<li><a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=Vue.vscode-typescript-vue-plugin">TypeScript Vue Plugin (Volar)</a> &#x3D;&#x3D;&gt; Vue3 官方插件（TypeScript）</li>
<li><a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=hollowtree.vue-snippets">Vue 3 Snippets</a> &#x3D;&#x3D;&gt; Vue3 代码提示</li>
<li><a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint">ESLint</a> &#x3D;&#x3D;&gt; 代码检查</li>
<li><a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=stylelint.vscode-stylelint">Stylelint</a> &#x3D;&#x3D;&gt; CSS 代码检查 &amp;&amp; 格式化</li>
<li><a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode">Prettier - Code formatter</a> &#x3D;&#x3D;&gt; 代码格式化</li>
<li><a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig">EditorConfig for VS Code</a> &#x3D;&#x3D;&gt; 统一不同编辑器的编码风格</li>
<li><a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=Syler.sass-indented">Sass</a> &#x3D;&#x3D;&gt; Sass 样式编写</li>
<li><a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=mikestead.dotenv">DotENV</a> &#x3D;&#x3D;&gt; 高亮 .env 文件</li>
<li><a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=mhutchie.git-graph">Git Graph</a> &#x3D;&#x3D;&gt; <font style="color:rgb(51, 51, 51);">提供一个直观、高效的Git仓库图形化视图</font></li>
<li><a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=Lokalise.i18n-ally">i18n Ally</a>&#x3D;&#x3D;&gt; <font style="color:rgb(51, 51, 51);">在国际化项目中，i18n Ally可以帮助开发者在编辑器中根据项目中的文件来翻译字段，解决中英文翻译对照造成的不便‌</font></li>
</ul>
<h4 id="vscode-extensions-json"><a href="#vscode-extensions-json" class="headerlink" title=".vscode &gt; extensions.json"></a>.vscode &gt; extensions.json</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;recommendations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;Vue.volar&quot;</span><span class="punctuation">,</span> <span class="string">&quot;dbaeumer.vscode-eslint&quot;</span><span class="punctuation">,</span> <span class="string">&quot;esbenp.prettier-vscode&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="vscode-settings-json"><a href="#vscode-settings-json" class="headerlink" title=".vscode &gt; settings.json"></a>.vscode &gt; settings.json</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;editor.codeActionsOnSave&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;source.fixAll&quot;</span><span class="punctuation">:</span> <span class="string">&quot;explicit&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;editor.formatOnSave&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;editor.defaultFormatter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;esbenp.prettier-vscode&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;i18n-ally.localesPaths&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;src/languages/modules&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;i18n-ally.enabledParsers&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;ts&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;i18n-ally.displayLanguage&quot;</span><span class="punctuation">:</span> <span class="string">&quot;zh-hans&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;i18n-ally.keystyle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;nested&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>:::warning</p>
<ul>
<li>开发 Vue3 项目请开启 Volar 插件、禁用 Vetur 插件。</li>
<li>请配置项目默认格式化程序为 Prettier。</li>
</ul>
<p>:::</p>
<h3 id="代码拉取"><a href="#代码拉取" class="headerlink" title="代码拉取"></a>代码拉取</h3><h4 id="从-GitLab-拉取代码："><a href="#从-GitLab-拉取代码：" class="headerlink" title="从 GitLab 拉取代码："></a>从 GitLab 拉取代码：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> http://10.11.3.132:8082/platform/ebs_vue3_template.git</span><br></pre></td></tr></table></figure>

<h3 id="安装使用步骤"><a href="#安装使用步骤" class="headerlink" title="安装使用步骤"></a>安装使用步骤</h3><h4 id="安装依赖："><a href="#安装依赖：" class="headerlink" title="安装依赖："></a>安装依赖：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用 npm</span></span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>

<h4 id="运行项目："><a href="#运行项目：" class="headerlink" title="运行项目："></a>运行项目：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 运行项目</span></span><br><span class="line">npm dev</span><br></pre></td></tr></table></figure>

<h4 id="打包项目："><a href="#打包项目：" class="headerlink" title="打包项目："></a>打包项目：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生产环境</span></span><br><span class="line">npm run build</span><br></pre></td></tr></table></figure>

<h4 id="校验、格式化代码："><a href="#校验、格式化代码：" class="headerlink" title="校验、格式化代码："></a>校验、格式化代码：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># eslint 检测代码</span></span><br><span class="line">npm run lint:script</span><br><span class="line"></span><br><span class="line"><span class="comment"># prettier 格式化代码</span></span><br><span class="line">npm run format</span><br><span class="line"></span><br><span class="line"><span class="comment"># stylelint 格式化样式</span></span><br><span class="line">npm run lint:style</span><br></pre></td></tr></table></figure>

<h4 id="提交代码："><a href="#提交代码：" class="headerlink" title="提交代码："></a>提交代码：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 提交代码（提交前会自动执行 lint:lint-staged 命令）</span></span><br><span class="line">npm run commit</span><br></pre></td></tr></table></figure>

<h3 id="npm-script-详解"><a href="#npm-script-详解" class="headerlink" title="npm script 详解"></a>npm script 详解</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// 本地运行(dev环境)</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 构建打包(pro环境)</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vue-tsc &amp;&amp; vite build --mode production&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 预览</span></span><br><span class="line">    <span class="attr">&quot;preview&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite preview&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 检查项目 ts 类型</span></span><br><span class="line">    <span class="attr">&quot;type:check&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vue-tsc --noEmit --skipLibCheck&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 执行 eslint 校验</span></span><br><span class="line">    <span class="attr">&quot;lint:script&quot;</span><span class="punctuation">:</span> <span class="string">&quot;eslint . --ext .vue,.js,.jsx,.cjs,.mjs,.ts,.tsx,.cts,.mts --fix --ignore-path .gitignore&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 执行 prettier 格式化</span></span><br><span class="line">    <span class="attr">&quot;format&quot;</span><span class="punctuation">:</span> <span class="string">&quot;prettier --write src/&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 执行 stylelint 格式化</span></span><br><span class="line">    <span class="attr">&quot;lint:style&quot;</span><span class="punctuation">:</span> <span class="string">&quot;stylelint src/**/*.&#123;html,vue,css,less,scss,sass&#125; --fix&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 执行 lint-staged.config.js 文件下的命令</span></span><br><span class="line">    <span class="attr">&quot;lint:lint-staged&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lint-staged&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 初始化 husky 配置</span></span><br><span class="line">    <span class="attr">&quot;prepare&quot;</span><span class="punctuation">:</span> <span class="string">&quot;husky install&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 提交代码(可自定义配置执行命令)</span></span><br><span class="line">    <span class="attr">&quot;commit&quot;</span><span class="punctuation">:</span> <span class="string">&quot;git pull &amp;&amp; git add -A &amp;&amp; git-cz &amp;&amp; git push&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><h3 id="EbsVue3Template目录说明-📚"><a href="#EbsVue3Template目录说明-📚" class="headerlink" title="EbsVue3Template目录说明 📚"></a>EbsVue3Template目录说明 📚</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">ebs_vue3_template</span><br><span class="line">├─ .husky                 # husky 配置文件</span><br><span class="line">├─ .vscode                # VSCode 推荐配置</span><br><span class="line">├─ public                 # 静态资源文件（该文件夹不会被打包）</span><br><span class="line">├─ src</span><br><span class="line">│  ├─ api                 # API 接口管理</span><br><span class="line">│  ├─ assets              # 静态资源文件</span><br><span class="line">│  ├─ components          # 全局组件</span><br><span class="line">│  ├─ config              # 全局配置项</span><br><span class="line">│  ├─ directives          # 全局指令文件</span><br><span class="line">│  ├─ hooks               # 常用 Hooks 封装</span><br><span class="line">│  ├─ languages           # 语言国际化 i18n</span><br><span class="line">│  ├─ layouts             # 框架布局模块</span><br><span class="line">│  ├─ routers             # 路由管理</span><br><span class="line">│  ├─ stores              # pinia store</span><br><span class="line">│  ├─ styles              # 全局样式文件</span><br><span class="line">│  ├─ typings             # 全局 ts 声明</span><br><span class="line">│  ├─ utils               # 常用工具库</span><br><span class="line">│  ├─ views               # 项目所有页面</span><br><span class="line">│  ├─ App.vue             # 项目主组件</span><br><span class="line">│  └─ main.ts             # 项目入口文件</span><br><span class="line">├─ .commitlintrc.cjs      # git 提交规范配置</span><br><span class="line">├─ .editorconfig          # 统一不同编辑器的编码风格</span><br><span class="line">├─ .env                   # vite 常用配置</span><br><span class="line">├─ .env.development       # 开发环境配置</span><br><span class="line">├─ .env.production        # 生产环境配置</span><br><span class="line">├─ .env.test              # 测试环境配置</span><br><span class="line">├─ .eslintignore          # 忽略 Eslint 校验</span><br><span class="line">├─ .eslintrc.cjs          # Eslint 校验配置文件</span><br><span class="line">├─ .gitignore             # 忽略 git 提交</span><br><span class="line">├─ .prettierignore        # 忽略 Prettier 格式化</span><br><span class="line">├─ .prettierrc.cjs        # Prettier 格式化配置</span><br><span class="line">├─ .stylelintignore       # 忽略 stylelint 格式化</span><br><span class="line">├─ .stylelintrc.cjs       # stylelint 样式格式化配置</span><br><span class="line">├─ Dockerfile                                  </span><br><span class="line">├─ env.d.ts								# 指定 ts 识别 vue</span><br><span class="line">├─ index.html             # 入口 html</span><br><span class="line">├─ lint-staged.config.cjs # lint-staged 配置文件</span><br><span class="line">├─ package-lock.json      # 依赖包包版本锁</span><br><span class="line">├─ package.json           # 依赖包管理</span><br><span class="line">├─ postcss.config.js      # postcss 配置</span><br><span class="line">├─ README.md              # README 介绍</span><br><span class="line">├─ tailwind.config.js     # tailwind 配置                     </span><br><span class="line">├─ tsconfig.app.json                          </span><br><span class="line">├─ tsconfig.json          # typescript 全局配置                     </span><br><span class="line">├─ tsconfig.node.json     </span><br><span class="line">└─ vite.config.ts         # vite 全局配置文件                   </span><br></pre></td></tr></table></figure>



<h3 id="src目录说明"><a href="#src目录说明" class="headerlink" title="src目录说明"></a>src目录说明</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br></pre></td><td class="code"><pre><span class="line">src                                  源码目录                                    </span><br><span class="line">├─ api                               所有api接口                                 </span><br><span class="line">│  ├─ config                         请求配置信息   </span><br><span class="line">│  │  ├─ http-enum.ts                请求相关的枚举类型 </span><br><span class="line">│  │  └─ service-port.ts             后端微服务模块前缀  </span><br><span class="line">│  ├─ helper                         请求辅助工具  </span><br><span class="line">│  │  ├─ axios-cancel.ts             拦截重复请求 </span><br><span class="line">│  │  ├─ check-status.ts             对各个http错误码做的相关的反馈  </span><br><span class="line">│  │  └─ service-loading.ts          全局请求loading配置</span><br><span class="line">│  ├─ interface                        </span><br><span class="line">│  │  └─ index.ts                      </span><br><span class="line">│  ├─ modules                        各个模块请求接口  </span><br><span class="line">│  │  └─ common                      公共请求接口  </span><br><span class="line">│  │     ├─ application.ts           应用列表  </span><br><span class="line">│  │     ├─ dict.ts                  数据字典  </span><br><span class="line">│  │     ├─ language-item.ts         语言词条  </span><br><span class="line">│  │     ├─ language.ts              语言列表  </span><br><span class="line">│  │     ├─ login.ts                 登录  </span><br><span class="line">│  │     ├─ message-list.ts          消息列表  </span><br><span class="line">│  │     └─ user.ts                  用户  </span><br><span class="line">│  └─ index.ts                       请求封装：请求拦截，响应拦截  </span><br><span class="line">├─ assets                            静态资源，images, icons,</span><br><span class="line">│  ├─ iconfonts                         </span><br><span class="line">│  │  ├─ common                      基础图标            </span><br><span class="line">│  │  └─ menu                        菜单图标            </span><br><span class="line">│  ├─ images </span><br><span class="line">│  └─ json                           静态模拟数据</span><br><span class="line">│     └─ auth-info.json              本地权限菜单数据</span><br><span class="line">├─ components                        公共组件   </span><br><span class="line">│  ├─ Error                          错误页面组件   </span><br><span class="line">│  │  └─ index.vue                     </span><br><span class="line">│  ├─ IncludeChildren                包含下级组件   </span><br><span class="line">│  │  └─ index.vue                     </span><br><span class="line">│  ├─ Slider                         滑动图片验证组件    </span><br><span class="line">│  │  ├─ utils                         </span><br><span class="line">│  │  │  ├─ ase.js                     </span><br><span class="line">│  │  │  └─ util.js                    </span><br><span class="line">│  │  └─ index.vue                     </span><br><span class="line">│  ├─ TwoColPage                     左右布局组件     </span><br><span class="line">│  │  └─ index.vue                     </span><br><span class="line">│  ├─ UserSelect                     选人组件      </span><br><span class="line">│  │  └─ index.vue                     </span><br><span class="line">│  └─ index.ts                         </span><br><span class="line">├─ config                            全局配置   </span><br><span class="line">│  ├─ index.ts                         </span><br><span class="line">│  └─ nprogress.ts                     </span><br><span class="line">├─ directives                       全局指令   </span><br><span class="line">│  ├─ modules                          </span><br><span class="line">│  │  └─ auth.ts                       </span><br><span class="line">│  └─ index.ts                         </span><br><span class="line">├─ hooks                           全局hook    </span><br><span class="line">│  ├─ interface                        </span><br><span class="line">│  │  └─ index.ts                      </span><br><span class="line">│  ├─ useMessage.ts                各种消息提示hook    </span><br><span class="line">│  ├─ useNProgress.ts              页面加载进度条    </span><br><span class="line">│  ├─ usePageLoading.ts            页面loading    </span><br><span class="line">│  ├─ useTheme.ts                  主题设置    </span><br><span class="line">│  └─ useTitle.ts                  系统标题    </span><br><span class="line">├─ languages                       多语言配置    </span><br><span class="line">│  ├─ modules                      语言包    </span><br><span class="line">│  │  ├─ en-us.ts                  英文    </span><br><span class="line">│  │  ├─ zh-hans.ts                简体中文    </span><br><span class="line">│  │  └─ zh-hant.ts                繁体中文    </span><br><span class="line">│  └─ index.ts                         </span><br><span class="line">├─ layouts                         布局    </span><br><span class="line">│  ├─ components                   布局相关的组件    </span><br><span class="line">│  │  ├─ Footer                    页脚    </span><br><span class="line">│  │  │  ├─ index.scss                 </span><br><span class="line">│  │  │  └─ index.vue                  </span><br><span class="line">│  │  ├─ Header                    头部导航    </span><br><span class="line">│  │  │  ├─ components                 </span><br><span class="line">│  │  │  │  ├─ AssemblySize.vue    系统尺寸设置    </span><br><span class="line">│  │  │  │  ├─ CollapseIcon.vue    左侧导航缩放   </span><br><span class="line">│  │  │  │  ├─ Fullscreen.vue      系统全屏切换   </span><br><span class="line">│  │  │  │  ├─ Language.vue        系统语言设置    </span><br><span class="line">│  │  │  │  ├─ Message.vue         导航顶部消息提示    </span><br><span class="line">│  │  │  │  ├─ PasswordDialog.vue  修改密码    </span><br><span class="line">│  │  │  │  ├─ Setting.vue         设置弹窗    </span><br><span class="line">│  │  │  │  └─ Title.vue           系统标题    </span><br><span class="line">│  │  │  └─ ToolBarRight.vue           </span><br><span class="line">│  │  ├─ InnerLink                  内嵌外链   </span><br><span class="line">│  │  │  └─ index.vue                  </span><br><span class="line">│  │  ├─ Main                       页面主要部分   </span><br><span class="line">│  │  │  ├─ components                 </span><br><span class="line">│  │  │  │  └─ Maximize.vue            </span><br><span class="line">│  │  │  ├─ index.scss                 </span><br><span class="line">│  │  │  └─ index.vue                  </span><br><span class="line">│  │  ├─ Menu                       菜单  </span><br><span class="line">│  │  │  └─ SubMenu.vue                </span><br><span class="line">│  │  ├─ NotificationContainer         </span><br><span class="line">│  │  │  └─ index.vue                  </span><br><span class="line">│  │  └─ Tabs                      页签组件    </span><br><span class="line">│  │     ├─ components                 </span><br><span class="line">│  │     │  └─ MoreButton.vue          </span><br><span class="line">│  │     ├─ index.scss                 </span><br><span class="line">│  │     └─ index.vue                  </span><br><span class="line">│  ├─ LayoutClassic                    </span><br><span class="line">│  │  └─ index.vue                     </span><br><span class="line">│  └─ index.vue                        </span><br><span class="line">├─ router                          路由，统一管理    </span><br><span class="line">│  ├─ modules                          </span><br><span class="line">│  │  ├─ dynamic-router.ts         动态路由    </span><br><span class="line">│  │  └─ static-router.ts          静态路由    </span><br><span class="line">│  └─ index.ts                     路由拦截，登录校验，菜单权限校验    </span><br><span class="line">├─ stores                          全局状态管理    </span><br><span class="line">│  ├─ helper                       辅助函数    </span><br><span class="line">│  │  └─ persist.ts                持久缓存封装    </span><br><span class="line">│  ├─ interface                    各个状态的ts类型    </span><br><span class="line">│  │  └─ index.ts                      </span><br><span class="line">│  ├─ modules                          </span><br><span class="line">│  │  ├─ applications.ts           应用列表    </span><br><span class="line">│  │  ├─ auth.ts                   应用code,权限菜单，权限按钮    </span><br><span class="line">│  │  ├─ global.ts                 全局系统配置：语言，主题，大小等    </span><br><span class="line">│  │  ├─ keep-alive.ts             需要缓存的页面    </span><br><span class="line">│  │  ├─ language.ts               当前应用的语言列表和语言包    </span><br><span class="line">│  │  ├─ tabs.ts                   页签    </span><br><span class="line">│  │  ├─ user.ts                   用户    </span><br><span class="line">│  │  └─ websocketStore.ts         消息推送    </span><br><span class="line">│  └─ index.ts                         </span><br><span class="line">├─ styles                          全局样式    </span><br><span class="line">│  ├─ koron                        koron-ui组件库样式覆盖    </span><br><span class="line">│  │  └─ var.scss                      </span><br><span class="line">│  ├─ tailwind                     tailwind 框架样式引用    </span><br><span class="line">│  │  ├─ base.scss                     </span><br><span class="line">│  │  ├─ components.scss               </span><br><span class="line">│  │  └─ utilities.scss                </span><br><span class="line">│  ├─ theme                        系统主题相关样式变量的设置    </span><br><span class="line">│  │  ├─ aside.ts                      </span><br><span class="line">│  │  ├─ header.ts                     </span><br><span class="line">│  │  ├─ menu.ts                       </span><br><span class="line">│  │  └─ primary-type.ts               </span><br><span class="line">│  ├─ common.scss                  全局样式    </span><br><span class="line">│  └─ index.scss                       </span><br><span class="line">├─ typings                         全局ts类型声明    </span><br><span class="line">│  ├─ global.d.ts                      </span><br><span class="line">│  ├─ router.d.ts                      </span><br><span class="line">│  ├─ utils.d.ts                       </span><br><span class="line">│  └─ window.d.ts                      </span><br><span class="line">├─ utils                           工具函数    </span><br><span class="line">│  ├─ is                           各数据类型的判断    </span><br><span class="line">│  │  └─ index.ts                      </span><br><span class="line">│  ├─ color.ts                     颜色混合等相关函数    </span><br><span class="line">│  ├─ dictionary.ts                数据字典    </span><br><span class="line">│  ├─ index.ts                         </span><br><span class="line">│  ├─ key-map.ts                       </span><br><span class="line">│  ├─ router-helper.ts            根据原始数据进行路由生成等相关函数     </span><br><span class="line">│  └─ websocket.ts                     </span><br><span class="line">├─ views                          视图目录                         </span><br><span class="line">│  ├─ home                        首页     </span><br><span class="line">│  │  └─ index.vue                     </span><br><span class="line">│  └─ login                       登录页     </span><br><span class="line">│     ├─ components                    </span><br><span class="line">│     │  ├─ PasswordLogin.vue     密码登录     </span><br><span class="line">│     │  ├─ PhoneLogin.vue        手机验证码登录     </span><br><span class="line">│     │  └─ ResetPassword.vue     重置密码     </span><br><span class="line">│     └─ index.vue                                      </span><br><span class="line">├─ App.vue                             </span><br><span class="line">└─ main.ts                         项目入口    </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="第二部分-框架初始化配置"><a href="#第二部分-框架初始化配置" class="headerlink" title="第二部分:框架初始化配置"></a>第二部分:框架初始化配置</h1><h2 id="项目规范"><a href="#项目规范" class="headerlink" title="项目规范"></a>项目规范</h2><p>本项目推荐使用 <strong>Visual Studio Code</strong> 开发</p>
<h3 id="项目规范应用（重要）"><a href="#项目规范应用（重要）" class="headerlink" title="项目规范应用（重要）"></a>项目规范应用（重要）</h3><h4 id="项目文件、组件命名规范"><a href="#项目文件、组件命名规范" class="headerlink" title="项目文件、组件命名规范"></a>项目文件、组件命名规范</h4><p>与本公司的前端代码规范中规定的各目录及文件命名规范一致：</p>
<ul>
<li><font style="color:rgb(37, 41, 51);">目录命名：其中 components目录下的 组件文件夹用大写驼峰，其余除 components 组件目录外的所有目录均使用 kebab-case 命名</font></li>
<li><font style="color:rgb(37, 41, 51);">文件命名：除.vue文件须用大驼峰命名法（index.vue除外），其余文件用kebab-case 命名法</font></li>
</ul>
<p>:::warning<br>💢EbsVue3Template 采用 Vue 官方推荐的风格指南，请务必查看</p>
<p>:::</p>
<h4 id="自动格式化"><a href="#自动格式化" class="headerlink" title="自动格式化"></a>自动格式化</h4><ul>
<li>按配置过程要求安装相应的vscode插件，代码中会根据相关代码规范配置进行代码风格，代码质量的错误提示，并可能会给予修改意见；</li>
<li>当保存时，也会把不符合代码风格的地方进行自动格式化和修复；</li>
<li>无法修复的地方会以下波浪线（红色或黄色）提示，开发者可根据提示进行修复</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1732704502941-1d7a4d3e-4295-4ae1-be2e-33ad3f039304.png"></p>
<h4 id="提交规范"><a href="#提交规范" class="headerlink" title="提交规范"></a>提交规范</h4><ul>
<li>在提交时要输入的提交信息要按照提交规范输入（相关配置文件见.commitlintrc.cjs），否则会无法提交；</li>
<li><font style="color:rgb(37, 41, 51);">因为已在项目中集成 commitizen，使用了</font><code>&lt;font style=&quot;color:rgb(255, 80, 44);background-color:rgb(255, 245, 245);&quot;&gt;git cz&lt;/font&gt;</code><font style="color:rgb(37, 41, 51);"> 代替了</font><code>&lt;font style=&quot;color:rgb(255, 80, 44);background-color:rgb(255, 245, 245);&quot;&gt;git commit&lt;/font&gt;</code><font style="color:rgb(37, 41, 51);"> 建议大家用 </font><code>&lt;font style=&quot;color:rgb(255, 80, 44);background-color:rgb(255, 245, 245);&quot;&gt;git cz&lt;/font&gt;</code><font style="color:rgb(37, 41, 51);"> 来代替 </font><code>&lt;font style=&quot;color:rgb(255, 80, 44);background-color:rgb(255, 245, 245);&quot;&gt;git commit&lt;/font&gt;</code><font style="color:rgb(37, 41, 51);"> 提交代码；</font></li>
<li><font style="color:rgb(37, 41, 51);">已配置 package.json 命令commit,所以也可直接运行package.json中的commit 命令</font><code>&lt;font style=&quot;color:rgb(37, 41, 51);&quot;&gt;npm run commit&lt;/font&gt;</code><font style="color:rgb(37, 41, 51);">可以保证提交信息规范。</font></li>
</ul>
<h3 id="项目规范配置过程（可忽略不看）"><a href="#项目规范配置过程（可忽略不看）" class="headerlink" title="项目规范配置过程（可忽略不看）"></a>项目规范配置过程（可忽略不看）</h3><p>本章节是介绍项目规范配置的全部过程，便于使用者的理解和根据业务需求更改相关配置</p>
<h4 id="代码格式化工具（Prettier）"><a href="#代码格式化工具（Prettier）" class="headerlink" title="代码格式化工具（Prettier）"></a>代码格式化工具（Prettier）</h4><h5 id="1、下载-prettier-相关依赖："><a href="#1、下载-prettier-相关依赖：" class="headerlink" title="1、下载 prettier 相关依赖："></a>1、下载 prettier 相关依赖：</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install prettier -D</span><br></pre></td></tr></table></figure>

<h5 id="2、安装-Vscode-插件（Prettier）："><a href="#2、安装-Vscode-插件（Prettier）：" class="headerlink" title="2、安装 Vscode 插件（Prettier）："></a>2、安装 Vscode 插件（Prettier）：</h5><p><img src="/../images/Prettier.png"><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1732672764324-6950f6c8-6c39-4155-bbf3-84942a210082.png"></p>
<h5 id="3、配置-Prettier（-prettierrc-json）："><a href="#3、配置-Prettier（-prettierrc-json）：" class="headerlink" title="3、配置 Prettier（.prettierrc.json）："></a>3、配置 Prettier（.prettierrc.json）：</h5><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;$schema&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://json.schemastore.org/prettierrc&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">// 指定最大换行长度</span></span><br><span class="line">  <span class="attr">&quot;printWidth&quot;</span><span class="punctuation">:</span> <span class="number">120</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">// 缩进制表符宽度 | 空格数</span></span><br><span class="line">  <span class="attr">&quot;tabWidth&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">// 结尾不用分号 (true：有，false：没有)</span></span><br><span class="line">  <span class="attr">&quot;semi&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">// 使用单引号 (true：单引号，false：双引号)</span></span><br><span class="line">  <span class="attr">&quot;singleQuote&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">// 多行时尽可能打印尾随逗号 可选值&quot;&lt;none|es5|all&gt;&quot;</span></span><br><span class="line">  <span class="attr">&quot;trailingComma&quot;</span><span class="punctuation">:</span> <span class="string">&quot;none&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">// 控制HTML、Vue和JSX元素中每个属性是否单独占据一行</span></span><br><span class="line">  <span class="attr">&quot;singleAttributePerLine&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="代码规范工具（ESLint）"><a href="#代码规范工具（ESLint）" class="headerlink" title="代码规范工具（ESLint）"></a>代码规范工具（ESLint）</h4><h5 id="1、本项目使用到的-ESLint-相关依赖："><a href="#1、本项目使用到的-ESLint-相关依赖：" class="headerlink" title="1、本项目使用到的 ESLint 相关依赖："></a>1、本项目使用到的 ESLint 相关依赖：</h5><p>由于本项目模板是使用vue官方的项目脚手架<font style="color:rgb(33, 53, 71);"> </font><a target="_blank" rel="noopener" href="https://github.com/vuejs/create-vue">create-vue</a>搭建的，已内置了相关的eslint配置，其内置的相关的插件如下：</p>
<table>
<thead>
<tr>
<th align="center">依赖</th>
<th align="center">作用描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">eslint</td>
<td align="center">ESLint 核心库</td>
</tr>
<tr>
<td align="center">eslint-config-standard</td>
<td align="center">社区提供的更全面的规则集</td>
</tr>
<tr>
<td align="center">eslint-plugin-vue</td>
<td align="center">为 Vue 使用 ESlint 的插件</td>
</tr>
<tr>
<td align="center">@vue&#x2F;eslint-config-prettier</td>
<td align="center">解决代码规范与Prettier格式化工具之间的和谐共存问题</td>
</tr>
<tr>
<td align="center">@vue&#x2F;eslint-config-typescript</td>
<td align="center"><font style="color:rgb(77, 77, 77);">专门为Vue-TypeScript项目设计的ESLint配置，它结合了</font><a target="_blank" rel="noopener" href="https://typescript-eslint.io/docs/user/configuring">@typescript-eslint&#x2F;eslint-plugin</a><font style="color:rgb(77, 77, 77);">中的规则，并针对Vue生态进行了优化,是专为Vue CLI和create-vue项目定制的ESLint配置包</font></td>
</tr>
<tr>
<td align="center">@rushstack&#x2F;eslint-patch</td>
<td align="center"><font style="color:rgb(51, 51, 51);">尝试加载一个ESLint的补丁，以解决与现代JavaScript模块解析相关的问题</font></td>
</tr>
</tbody></table>
<p>上述的插件也是基于下列插件实现的，如果想要手动搭建一遍可以先下载下列插件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install eslint eslint-config-prettier eslint-plugin-prettier eslint-plugin-vue @typescript-eslint/eslint-plugin @typescript-eslint/parser -D</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center">依赖</th>
<th align="center">作用描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">eslint</td>
<td align="center">ESLint 核心库</td>
</tr>
<tr>
<td align="center">eslint-config-prettier</td>
<td align="center">关掉所有和 Prettier 冲突的 ESLint 的配置</td>
</tr>
<tr>
<td align="center">eslint-plugin-prettier</td>
<td align="center">将 Prettier 的 rules 以插件的形式加入到 ESLint 里面</td>
</tr>
<tr>
<td align="center">eslint-plugin-vue</td>
<td align="center">为 Vue 使用 ESlint 的插件</td>
</tr>
<tr>
<td align="center">@typescript-eslint&#x2F;eslint-plugin</td>
<td align="center">ESLint 插件，包含了各类定义好的检测 TypeScript 代码的规范</td>
</tr>
<tr>
<td align="center">@typescript-eslint&#x2F;parser</td>
<td align="center">ESLint 的解析器，用于解析 TypeScript，从而检查和规范 TypeScript 代码</td>
</tr>
</tbody></table>
<h5 id="2、安装-Vscode-插件（ESLint）："><a href="#2、安装-Vscode-插件（ESLint）：" class="headerlink" title="2、安装 Vscode 插件（ESLint）："></a>2、安装 Vscode 插件（ESLint）：</h5><p><img src="/../images/ESLint.png"><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1732674820633-29940747-a2d0-4649-b728-5f72478455f5.png"></p>
<h5 id="3、配置-ESLint（-eslintrc-cjs）："><a href="#3、配置-ESLint（-eslintrc-cjs）：" class="headerlink" title="3、配置 ESLint（.eslintrc.cjs）："></a>3、配置 ESLint（.eslintrc.cjs）：</h5><p>1、本项目的eslintrc.cjs配置文件如下： </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* eslint-env node */</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;@rushstack/eslint-patch/modern-module-resolution&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">root</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">extends</span>: [</span><br><span class="line">    <span class="string">&#x27;plugin:vue/vue3-recommended&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;eslint:recommended&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;standard&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;@vue/eslint-config-typescript&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;@vue/eslint-config-prettier&#x27;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">   * &quot;off&quot; 或 0    ==&gt;  关闭规则</span></span><br><span class="line"><span class="comment">   * &quot;warn&quot; 或 1   ==&gt;  打开的规则作为警告（不影响代码执行）</span></span><br><span class="line"><span class="comment">   * &quot;error&quot; 或 2  ==&gt;  规则作为一个错误（代码不能执行，界面报错）</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">    <span class="comment">// vue (https://eslint.vuejs.org/rules)</span></span><br><span class="line">    <span class="string">&#x27;vue/multi-word-component-names&#x27;</span>: <span class="string">&#x27;off&#x27;</span> <span class="comment">// 关闭“要求组件名称是多单词的”规则</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">parserOptions</span>: &#123;</span><br><span class="line">    <span class="attr">ecmaVersion</span>: <span class="string">&#x27;latest&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>需要忽略eslint代码检查的文件配置.eslintignore配置如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">**.d.ts</span><br><span class="line">dist</span><br><span class="line">node_modules</span><br><span class="line">iconfont.*</span><br></pre></td></tr></table></figure>

<p>2、如果项目是基于基础插件手动搭建方式，则eslint的配置可参考如下配置：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @see: http://eslint.cn</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">	<span class="attr">root</span>: <span class="literal">true</span>,</span><br><span class="line">	<span class="attr">env</span>: &#123;</span><br><span class="line">		<span class="attr">browser</span>: <span class="literal">true</span>,</span><br><span class="line">		<span class="attr">node</span>: <span class="literal">true</span>,</span><br><span class="line">		<span class="attr">es6</span>: <span class="literal">true</span>,</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="comment">// 指定如何解析语法</span></span><br><span class="line">	<span class="attr">parser</span>: <span class="string">&quot;vue-eslint-parser&quot;</span>,</span><br><span class="line">	<span class="comment">// 优先级低于 parse 的语法解析配置</span></span><br><span class="line">	<span class="attr">parserOptions</span>: &#123;</span><br><span class="line">		<span class="attr">parser</span>: <span class="string">&quot;@typescript-eslint/parser&quot;</span>,</span><br><span class="line">		<span class="attr">ecmaVersion</span>: <span class="number">2020</span>,</span><br><span class="line">		<span class="attr">sourceType</span>: <span class="string">&quot;module&quot;</span>,</span><br><span class="line">		<span class="attr">jsxPragma</span>: <span class="string">&quot;React&quot;</span>,</span><br><span class="line">		<span class="attr">ecmaFeatures</span>: &#123;</span><br><span class="line">			<span class="attr">jsx</span>: <span class="literal">true</span>,</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="comment">// 继承某些已有的规则</span></span><br><span class="line">	<span class="attr">extends</span>: [<span class="string">&quot;plugin:vue/vue3-recommended&quot;</span>, <span class="string">&quot;plugin:@typescript-eslint/recommended&quot;</span>, <span class="string">&quot;plugin:prettier/recommended&quot;</span>],</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * &quot;off&quot; 或 0    ==&gt;  关闭规则</span></span><br><span class="line"><span class="comment">	 * &quot;warn&quot; 或 1   ==&gt;  打开的规则作为警告（不影响代码执行）</span></span><br><span class="line"><span class="comment">	 * &quot;error&quot; 或 2  ==&gt;  规则作为一个错误（代码不能执行，界面报错）</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="attr">rules</span>: &#123;</span><br><span class="line">		<span class="comment">// eslint (http://eslint.cn/docs/rules)</span></span><br><span class="line">		<span class="string">&quot;vue/multi-word-component-names&quot;</span>: <span class="string">&quot;off&quot;</span>, <span class="comment">// 要求组件名称始终为 “-” 链接的单词</span></span><br><span class="line">	&#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="样式规范工具（StyleLint）"><a href="#样式规范工具（StyleLint）" class="headerlink" title="样式规范工具（StyleLint）"></a>样式规范工具（StyleLint）</h4><h5 id="1、下载-StyleLint-相关依赖："><a href="#1、下载-StyleLint-相关依赖：" class="headerlink" title="1、下载 StyleLint 相关依赖："></a>1、下载 StyleLint 相关依赖：</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install stylelint stylelint-config-html stylelint-config-standard-scss stylelint-config-standard-vue stylelint-config-standard stylelint-config-recess-order postcss postcss-html stylelint-prettier -D</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center">依赖</th>
<th>作用描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">stylelint</td>
<td>stylelint 核心库</td>
</tr>
<tr>
<td align="center">stylelint-config-standard</td>
<td>是一个用于Stylelint的共享配置，它提供了一套基础规则，帮助开发者遵循CSS编码的最佳实践。该配置涵盖了从选择器命名到属性排序等多方面的检查，确保你的样式代码保持整洁和一致</td>
</tr>
<tr>
<td align="center">stylelint-config-html</td>
<td>Stylelint 的可共享 HTML（和类似 HTML）配置，捆绑 postcss-html 并对其进行配置。</td>
</tr>
<tr>
<td align="center">stylelint-config-standard-scss</td>
<td>扩展 stylelint-config-standard 共享配置，并为 SCSS 配置其规则</td>
</tr>
<tr>
<td align="center">stylelint-config-standard-vue</td>
<td>扩展 stylelint-config-standard  共享配置，并为 Vue 配置其规则</td>
</tr>
<tr>
<td align="center">stylelint-config-recess-order</td>
<td>属性的排序（插件包）</td>
</tr>
<tr>
<td align="center">stylelint-prettier</td>
<td>将Prettier的格式化功能集成到Stylelint中，使得开发者可以在保持原有Stylelint配置的基础上，利用Prettier进行代码的自动化格式化</td>
</tr>
<tr>
<td align="center">postcss</td>
<td>postcss-html 的依赖包</td>
</tr>
<tr>
<td align="center">postcss-html</td>
<td>用于解析 HTML（和类似 HTML）的 PostCSS 语法</td>
</tr>
</tbody></table>
<h5 id="2、安装-Vscode-插件（StyleLint）："><a href="#2、安装-Vscode-插件（StyleLint）：" class="headerlink" title="2、安装 Vscode 插件（StyleLint）："></a>2、安装 Vscode 插件（StyleLint）：</h5><p><img src="/../images/Stylelint.png"><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1732698218523-24274aba-82dd-4d8f-9450-c18a1ee251ea.png"></p>
<h5 id="3、在目录的-vscode-文件夹下新建-settings-json："><a href="#3、在目录的-vscode-文件夹下新建-settings-json：" class="headerlink" title="3、在目录的 .vscode 文件夹下新建 settings.json："></a>3、在目录的 .vscode 文件夹下新建 settings.json：</h5><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;editor.formatOnSave&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;editor.codeActionsOnSave&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;source.fixAll.stylelint&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;stylelint.enable&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;stylelint.validate&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;css&quot;</span><span class="punctuation">,</span> <span class="string">&quot;less&quot;</span><span class="punctuation">,</span> <span class="string">&quot;postcss&quot;</span><span class="punctuation">,</span> <span class="string">&quot;scss&quot;</span><span class="punctuation">,</span> <span class="string">&quot;vue&quot;</span><span class="punctuation">,</span> <span class="string">&quot;sass&quot;</span><span class="punctuation">,</span> <span class="string">&quot;html&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;files.eol&quot;</span><span class="punctuation">:</span> <span class="string">&quot;\n&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>😎 也可以在 vscode 中全局配置上述 json 代码 😎</p>
</blockquote>
<h5 id="4、配置-StyleLint（-stylelintrc-cjs）："><a href="#4、配置-StyleLint（-stylelintrc-cjs）：" class="headerlink" title="4、配置 StyleLint（.stylelintrc.cjs）："></a>4、配置 StyleLint（.stylelintrc.cjs）：</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// 继承一系列规则集合</span></span><br><span class="line">  <span class="attr">extends</span>: [</span><br><span class="line">    <span class="string">&#x27;stylelint-config-standard&#x27;</span>, <span class="comment">// 配置stylelint拓展插件</span></span><br><span class="line">    <span class="string">&#x27;stylelint-config-html/vue&#x27;</span>, <span class="comment">// 配置 vue 中 template 样式格式化</span></span><br><span class="line">    <span class="string">&#x27;stylelint-config-standard-scss&#x27;</span>, <span class="comment">// 配置stylelint scss插件</span></span><br><span class="line">    <span class="string">&#x27;stylelint-config-standard-vue/scss&#x27;</span>, <span class="comment">// 配置 vue 中 scss 样式格式化</span></span><br><span class="line">    <span class="string">&#x27;stylelint-config-recess-order&#x27;</span>, <span class="comment">// 配置stylelint css属性书写顺序插件,</span></span><br><span class="line">    <span class="string">&#x27;stylelint-prettier/recommended&#x27;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">overrides</span>: [</span><br><span class="line">    <span class="comment">// 扫描 .vue/html 文件中的&lt;style&gt;标签内的样式</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">files</span>: [<span class="string">&#x27;**/*.&#123;vue,html&#125;&#x27;</span>],</span><br><span class="line">      <span class="attr">customSyntax</span>: <span class="string">&#x27;postcss-html&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * null  =&gt; 关闭该规则</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;selector-class-pattern&#x27;</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="string">&#x27;selector-pseudo-class-no-unknown&#x27;</span>: [</span><br><span class="line">      <span class="literal">true</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">ignorePseudoClasses</span>: [<span class="string">&#x27;global&#x27;</span>, <span class="string">&#x27;v-deep&#x27;</span>, <span class="string">&#x27;deep&#x27;</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&#x27;at-rule-no-unknown&#x27;</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="string">&#x27;scss/at-rule-no-unknown&#x27;</span>: [</span><br><span class="line">      <span class="literal">true</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">ignoreAtRules</span>: [<span class="string">&#x27;tailwind&#x27;</span>, <span class="string">&#x27;tailwindcss&#x27;</span>] <span class="comment">//tailwindcss相关配置</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>需要忽略stylelint代码检查的文件配置.stylelintignore配置如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/dist/*</span><br><span class="line">node_modules/*</span><br></pre></td></tr></table></figure>

<h4 id="EditorConfig-配置"><a href="#EditorConfig-配置" class="headerlink" title="EditorConfig 配置"></a>EditorConfig 配置</h4><h5 id="1、简介："><a href="#1、简介：" class="headerlink" title="1、简介："></a>1、简介：</h5><ul>
<li><strong>EditorConfig</strong> 帮助开发人员在 <strong>不同的编辑器</strong> 和 <strong>IDE</strong> 之间定义和维护一致的编码样式。</li>
</ul>
<h5 id="2、安装-VsCode-插件（EditorConfig-）："><a href="#2、安装-VsCode-插件（EditorConfig-）：" class="headerlink" title="2、安装 VsCode 插件（EditorConfig ）："></a>2、安装 VsCode 插件（EditorConfig ）：</h5><p><img src="/../images/EditorConfig.png"><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1732699026813-eb473f7a-031c-4442-9405-35308a42275e.png"></p>
<h5 id="3、配置-EditorConfig（-editorconfig）："><a href="#3、配置-EditorConfig（-editorconfig）：" class="headerlink" title="3、配置 EditorConfig（.editorconfig）："></a>3、配置 EditorConfig（.editorconfig）：</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># @see: http://editorconfig.org</span></span><br><span class="line"></span><br><span class="line">root = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">[*] <span class="comment"># 表示所有文件适用</span></span><br><span class="line"><span class="comment">#编码</span></span><br><span class="line">charset = utf-8</span><br><span class="line"><span class="comment">#缩进方式</span></span><br><span class="line">indent_style = space</span><br><span class="line"><span class="comment">#缩进空格数</span></span><br><span class="line">indent_size = 2</span><br><span class="line"><span class="comment">#换行符lf</span></span><br><span class="line">end_of_line = lf</span><br><span class="line"><span class="comment">#是否删除行尾的空格</span></span><br><span class="line">trim_trailing_whitespace = <span class="literal">true</span></span><br><span class="line"><span class="comment">#是否在文件的最后插入一个空行</span></span><br><span class="line">insert_final_newline = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">[*.md] <span class="comment"># 表示仅 md 文件适用以下规则</span></span><br><span class="line">max_line_length = off <span class="comment"># 关闭最大行长度限制</span></span><br><span class="line">trim_trailing_whitespace = <span class="literal">false</span> <span class="comment"># 关闭末尾空格修剪</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Git-流程规范配置"><a href="#Git-流程规范配置" class="headerlink" title="Git 流程规范配置"></a>Git 流程规范配置</h4><table>
<thead>
<tr>
<th align="center">依赖</th>
<th>作用描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">husky</td>
<td>操作 <strong>git</strong> 钩子的工具（在 <strong>git xx</strong> 之前执行某些命令）</td>
</tr>
<tr>
<td align="center">lint-staged</td>
<td><font style="color:rgb(36, 41, 47);">如果在整个项目上进行代码检查那么效率就会非常低下，所以最好的做法就是检查那些被改动了的文件，而 Lint-staged 则可以帮我们实现这个目的:</font>在提交之前进行 <strong>eslint</strong> 校验，并使用 <strong>prettier</strong> 格式化本地暂存区的代码，</td>
</tr>
<tr>
<td align="center"><font style="color:rgb(36, 41, 47);">pretty-quick</font></td>
<td><font style="color:rgb(36, 41, 47);">如果在整个项目上进行代码格式化也是效率非常低下的，我们可以通过 pretty-quick 在更改的文件上运行 Prettier 进行代码格式化</font></td>
</tr>
<tr>
<td align="center">@commitlint&#x2F;cli</td>
<td>校验 <strong>git commit</strong> 信息是否符合规范，保证团队的一致性</td>
</tr>
<tr>
<td align="center">@commitlint&#x2F;config-conventional</td>
<td><strong>Anglar</strong> 的提交规范</td>
</tr>
<tr>
<td align="center">commitizen</td>
<td><font style="color:rgb(0, 0, 0);background-color:rgb(201, 228, 255);">基于 Node.js 的 git commit 命令行工具，生成标准化的 message</font></td>
</tr>
<tr>
<td align="center">cz-git</td>
<td>一款工程性更强，轻量级，高度自定义，标准输出格式的 <strong>commitize</strong> 适配器</td>
</tr>
</tbody></table>
<h5 id="1、husky（操作-git-钩子的工具）："><a href="#1、husky（操作-git-钩子的工具）：" class="headerlink" title="1、husky（操作 git 钩子的工具）："></a>1、husky（操作 git 钩子的工具）：</h5><blockquote>
<p><strong>安装：</strong></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install husky -D</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>使用（为了添加.husky 文件夹）：</strong></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编辑 package.json &gt; prepare 脚本并运行一次</span></span><br><span class="line"></span><br><span class="line">npm set-script prepare <span class="string">&quot;husky install&quot;</span></span><br><span class="line">npm run prepare</span><br></pre></td></tr></table></figure>

<h5 id="2、-lint-staged（本地暂存代码检查工具）"><a href="#2、-lint-staged（本地暂存代码检查工具）" class="headerlink" title="2、 lint-staged（本地暂存代码检查工具）"></a>2、 lint-staged（本地暂存代码检查工具）</h5><blockquote>
<p><strong>安装：</strong></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install lint-staged --D</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>添加 ESlint Hook（在.husky 文件夹下添加 pre-commit 文件）：</strong></p>
</blockquote>
<blockquote>
<p><strong>作用：通过钩子函数，判断提交的代码是否符合规范，并使用 prettier 格式化代码</strong></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npx husky add .husky/pre-commit <span class="string">&quot;npm run lint:lint-staged&quot;</span></span><br><span class="line">npx husky add .husky/pre-commit <span class="string">&quot;npx pretty-quick --staged&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>新增 <strong>lint-staged.config.cjs</strong> 文件：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="string">&#x27;*.&#123;js,jsx,ts,tsx&#125;&#x27;</span>: [<span class="string">&#x27;eslint --fix&#x27;</span>, <span class="string">&#x27;prettier --write&#x27;</span>],</span><br><span class="line">  <span class="string">&#x27;&#123;!(package)*.json,*.code-snippets,.!(browserslist)*rc&#125;&#x27;</span>: [<span class="string">&#x27;prettier --write--parser json&#x27;</span>],</span><br><span class="line">  <span class="string">&#x27;package.json&#x27;</span>: [<span class="string">&#x27;prettier --write&#x27;</span>],</span><br><span class="line">  <span class="string">&#x27;*.vue&#x27;</span>: [<span class="string">&#x27;eslint --fix&#x27;</span>, <span class="string">&#x27;prettier --write&#x27;</span>, <span class="string">&#x27;stylelint --fix&#x27;</span>],</span><br><span class="line">  <span class="string">&#x27;*.&#123;scss,less,styl,html&#125;&#x27;</span>: [<span class="string">&#x27;stylelint --fix&#x27;</span>, <span class="string">&#x27;prettier --write&#x27;</span>],</span><br><span class="line">  <span class="string">&#x27;*.md&#x27;</span>: [<span class="string">&#x27;prettier --write&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="3、commitlint（commit-信息校验工具，不符合则报错）"><a href="#3、commitlint（commit-信息校验工具，不符合则报错）" class="headerlink" title="3、commitlint（commit 信息校验工具，不符合则报错）"></a>3、commitlint（commit 信息校验工具，不符合则报错）</h5><blockquote>
<p><strong>安装：</strong></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @commitlint/cli @commitlint/config-conventional -D</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>配置命令（在.husky 文件夹下添加 commit-msg 文件）：</strong></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx husky add .husky/commit-msg <span class="string">&#x27;npx --no-install commitlint --edit &quot;$1&quot;&#x27;</span></span><br></pre></td></tr></table></figure>

<h5 id="4、commitizen（基于-Node-js-的-git-commit-命令行工具，生成标准化的-message）"><a href="#4、commitizen（基于-Node-js-的-git-commit-命令行工具，生成标准化的-message）" class="headerlink" title="4、commitizen（基于 Node.js 的 git commit 命令行工具，生成标准化的 message）"></a>4、commitizen（基于 Node.js 的 git commit 命令行工具，生成标准化的 message）</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 安装 commitizen，如此一来可以快速使用 commitizen 命令进行启动。</span><br><span class="line">npm install commitizen -D</span><br></pre></td></tr></table></figure>

<h5 id="5、cz-git"><a href="#5、cz-git" class="headerlink" title="5、cz-git"></a>5、cz-git</h5><blockquote>
<p><strong>指定提交文字规范，一款工程性更强，高度自定义，标准输出格式的 commitizen 适配器</strong></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install cz-git -D</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>配置 package.json：</strong></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;config&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;commitizen&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;path&quot;</span>: <span class="string">&quot;./node_modules/cz-git&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>新建 .commitlintrc.cjs 文件：</strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .commitlintrc.js</span></span><br><span class="line"><span class="comment">/** <span class="doctag">@type</span> &#123;<span class="type">import(&#x27;cz-git&#x27;).UserConfig</span>&#125; */</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">ignores</span>: [<span class="function">(<span class="params">commit</span>) =&gt;</span> commit.<span class="title function_">includes</span>(<span class="string">&#x27;init&#x27;</span>)],</span><br><span class="line">  <span class="attr">extends</span>: [<span class="string">&#x27;@commitlint/config-conventional&#x27;</span>],</span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">    <span class="comment">// @see: https://commitlint.js.org/#/reference-rules</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">prompt</span>: &#123;</span><br><span class="line">    <span class="attr">alias</span>: &#123; <span class="attr">fd</span>: <span class="string">&#x27;docs: fix typos&#x27;</span> &#125;,</span><br><span class="line">    <span class="attr">messages</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;选择你要提交的类型 :&#x27;</span>,</span><br><span class="line">      <span class="attr">scope</span>: <span class="string">&#x27;选择一个提交范围（可选）:&#x27;</span>,</span><br><span class="line">      <span class="attr">customScope</span>: <span class="string">&#x27;请输入自定义的提交范围 :&#x27;</span>,</span><br><span class="line">      <span class="attr">subject</span>: <span class="string">&#x27;填写简短精炼的变更描述 :\n&#x27;</span>,</span><br><span class="line">      <span class="attr">body</span>: <span class="string">&#x27;填写更加详细的变更描述（可选）。使用 &quot;|&quot; 换行 :\n&#x27;</span>,</span><br><span class="line">      <span class="attr">breaking</span>: <span class="string">&#x27;列举非兼容性重大的变更（可选）。使用 &quot;|&quot; 换行 :\n&#x27;</span>,</span><br><span class="line">      <span class="attr">footerPrefixesSelect</span>: <span class="string">&#x27;选择关联issue前缀（可选）:&#x27;</span>,</span><br><span class="line">      <span class="attr">customFooterPrefix</span>: <span class="string">&#x27;输入自定义issue前缀 :&#x27;</span>,</span><br><span class="line">      <span class="attr">footer</span>: <span class="string">&#x27;列举关联issue (可选) 例如: #31, #I3244 :\n&#x27;</span>,</span><br><span class="line">      <span class="attr">confirmCommit</span>: <span class="string">&#x27;是否提交或修改commit ?&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">types</span>: [</span><br><span class="line">      &#123; <span class="attr">value</span>: <span class="string">&#x27;feat&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;feat:     新增功能 | A new feature&#x27;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">value</span>: <span class="string">&#x27;fix&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;fix:      修复缺陷 | A bug fix&#x27;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">value</span>: <span class="string">&#x27;docs&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;docs:     文档更新 | Documentation only changes&#x27;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">value</span>: <span class="string">&#x27;style&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;style:    代码格式 | Changes that do not affect the meaning of the code&#x27;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">value</span>: <span class="string">&#x27;refactor&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;refactor: 代码重构 | A code change that neither fixes a bug nor adds a feature&#x27;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">value</span>: <span class="string">&#x27;perf&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;perf:     性能提升 | A code change that improves performance&#x27;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">value</span>: <span class="string">&#x27;test&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;test:     测试相关 | Adding missing tests or correcting existing tests&#x27;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">value</span>: <span class="string">&#x27;build&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;build:    构建相关 | Changes that affect the build system or external dependencies&#x27;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">value</span>: <span class="string">&#x27;ci&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;ci:       持续集成 | Changes to our CI configuration files and scripts&#x27;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">value</span>: <span class="string">&#x27;revert&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;revert:   回退代码 | Revert to a commit&#x27;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">value</span>: <span class="string">&#x27;chore&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;chore:    其他修改 | Other changes that do not modify src or test files&#x27;</span> &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">useEmoji</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">emojiAlign</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">    <span class="attr">useAI</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">aiNumber</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">themeColorCode</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">scopes</span>: [],</span><br><span class="line">    <span class="attr">allowCustomScopes</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">allowEmptyScopes</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">customScopesAlign</span>: <span class="string">&#x27;bottom&#x27;</span>,</span><br><span class="line">    <span class="attr">customScopesAlias</span>: <span class="string">&#x27;custom&#x27;</span>,</span><br><span class="line">    <span class="attr">emptyScopesAlias</span>: <span class="string">&#x27;empty&#x27;</span>,</span><br><span class="line">    <span class="attr">upperCaseSubject</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">markBreakingChangeMode</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">allowBreakingChanges</span>: [<span class="string">&#x27;feat&#x27;</span>, <span class="string">&#x27;fix&#x27;</span>],</span><br><span class="line">    <span class="attr">breaklineNumber</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">breaklineChar</span>: <span class="string">&#x27;|&#x27;</span>,</span><br><span class="line">    <span class="attr">skipQuestions</span>: [<span class="string">&#x27;body&#x27;</span>, <span class="string">&#x27;footer&#x27;</span>],</span><br><span class="line">    <span class="attr">issuePrefixes</span>: [</span><br><span class="line">      <span class="comment">// 如果使用 gitee 作为开发管理</span></span><br><span class="line">      &#123; <span class="attr">value</span>: <span class="string">&#x27;link&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;link:     链接 ISSUES 进行中&#x27;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">value</span>: <span class="string">&#x27;closed&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;closed:   标记 ISSUES 已完成&#x27;</span> &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">customIssuePrefixAlign</span>: <span class="string">&#x27;top&#x27;</span>,</span><br><span class="line">    <span class="attr">emptyIssuePrefixAlias</span>: <span class="string">&#x27;skip&#x27;</span>,</span><br><span class="line">    <span class="attr">customIssuePrefixAlias</span>: <span class="string">&#x27;custom&#x27;</span>,</span><br><span class="line">    <span class="attr">allowCustomIssuePrefix</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">allowEmptyIssuePrefix</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">confirmColorize</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">scopeOverrides</span>: <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">defaultBody</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">defaultIssues</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">defaultScope</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">defaultSubject</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="配置-package-json-命令"><a href="#配置-package-json-命令" class="headerlink" title="配置 package.json 命令"></a>配置 package.json 命令</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="comment">// 本地运行(dev环境)</span></span><br><span class="line">        <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="comment">// 本地运行(dev环境)</span></span><br><span class="line">        <span class="attr">&quot;serve&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="comment">// 构建打包(dev环境)</span></span><br><span class="line">        <span class="attr">&quot;build:dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vue-tsc &amp;&amp; vite build --mode development&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="comment">// 构建打包(test环境)</span></span><br><span class="line">        <span class="attr">&quot;build:test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vue-tsc &amp;&amp; vite build --mode test&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="comment">// 构建打包(pro环境)</span></span><br><span class="line">        <span class="attr">&quot;build:pro&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vue-tsc &amp;&amp; vite build --mode production&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="comment">// 检查项目 ts 类型</span></span><br><span class="line">        <span class="attr">&quot;type:check&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vue-tsc --noEmit --skipLibCheck&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="comment">// 本地环境预览构建后的 dist</span></span><br><span class="line">        <span class="attr">&quot;preview&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npm run build:dev &amp;&amp; vite preview&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="comment">// 执行 eslint 校验</span></span><br><span class="line">        <span class="attr">&quot;lint:eslint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;eslint --fix --ext .js,.ts,.vue ./src&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="comment">// 执行 prettier 格式化</span></span><br><span class="line">        <span class="attr">&quot;lint:prettier&quot;</span><span class="punctuation">:</span> <span class="string">&quot;prettier --write \&quot;src/**/*.&#123;js,ts,json,tsx,css,less,scss,vue,html,md&#125;\&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="comment">// 执行 stylelint 格式化</span></span><br><span class="line">        <span class="attr">&quot;lint:stylelint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;stylelint --cache --fix \&quot;**/*.&#123;vue,less,postcss,css,scss&#125;\&quot; --cache --cache-location node_modules/.cache/stylelint/&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="comment">// 执行 lint-staged.config.js 文件下的命令</span></span><br><span class="line">        <span class="attr">&quot;lint:lint-staged&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lint-staged&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="comment">// 初始化 husky 配置</span></span><br><span class="line">        <span class="attr">&quot;prepare&quot;</span><span class="punctuation">:</span> <span class="string">&quot;husky install&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="comment">// 自动更新版本</span></span><br><span class="line">        <span class="attr">&quot;release&quot;</span><span class="punctuation">:</span> <span class="string">&quot;standard-version&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="comment">// 提交代码(可自定义配置执行命令)</span></span><br><span class="line">        <span class="attr">&quot;commit&quot;</span><span class="punctuation">:</span> <span class="string">&quot;git add -A &amp;&amp; czg &amp;&amp; git push&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="全局配置"><a href="#全局配置" class="headerlink" title="全局配置"></a>全局配置</h2><h3 id="系统全局变量配置"><a href="#系统全局变量配置" class="headerlink" title="系统全局变量配置"></a>系统全局变量配置</h3><p>在 src&#x2F;config&#x2F;index.ts文件中可对项目的一些全局配置根据业务需求进行重新配置默认值：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ? 全局默认配置项</span></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">type</span> &#123; <span class="title class_">Theme</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@/hooks/interface&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; primaryTypes &#125; <span class="keyword">from</span> <span class="string">&#x27;@/styles/theme/primary-type&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 登录页地址（默认）</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">LOGIN_URL</span>: <span class="built_in">string</span> = <span class="string">&#x27;/login&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">UI_COLORS</span>: <span class="built_in">string</span>[] = [<span class="string">&#x27;#4f75e9&#x27;</span>, <span class="string">&#x27;#4aca7d&#x27;</span>, <span class="string">&#x27;#f29d49&#x27;</span>, <span class="string">&#x27;#f25749&#x27;</span>]</span><br><span class="line"><span class="comment">// 默认主题颜色类型</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">DEFAULT_PRIMARY_TYPE</span>: <span class="title class_">Theme</span>.<span class="property">PrimaryType</span> = <span class="string">&#x27;blue&#x27;</span></span><br><span class="line"><span class="comment">// 默认主题颜色</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">DEFAULT_PRIMARY</span>: <span class="built_in">string</span> = primaryTypes[<span class="variable constant_">DEFAULT_PRIMARY_TYPE</span>][<span class="string">&#x27;--el-color-primary&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 路由白名单地址（本地存在的路由 staticRouter.ts 中）</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">ROUTER_WHITE_LIST</span>: <span class="built_in">string</span>[] = [<span class="string">&#x27;/404&#x27;</span>, <span class="string">&#x27;/500&#x27;</span>, <span class="string">&#x27;/login&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 默认应用ID</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="variable constant_">APP_CODE</span> = <span class="string">&#x27;iot&#x27;</span></span><br><span class="line"><span class="comment">// 首页地址（默认）</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">HOME_URL</span>: <span class="built_in">string</span> = <span class="string">`/<span class="subst">$&#123;APP_CODE&#125;</span>/home`</span></span><br></pre></td></tr></table></figure>

<p>登录地址，默认主题色；路由白名单，默认首页，系统code</p>
<h4 id="LOGIN-URL-登录地址"><a href="#LOGIN-URL-登录地址" class="headerlink" title="LOGIN_URL 登录地址"></a>LOGIN_URL 登录地址</h4><p>其中登录地址是以路由的方式进行跳转的。如果业务需求是可能跳转到其他完整链接，可进行全局搜索该变量进行更改跳转方式</p>
<h4 id="DEFAULT-PRIMARY-TYPE-默认主题色类型"><a href="#DEFAULT-PRIMARY-TYPE-默认主题色类型" class="headerlink" title="DEFAULT_PRIMARY_TYPE 默认主题色类型"></a>DEFAULT_PRIMARY_TYPE 默认主题色类型</h4><p>本项目中有三种主题：主题蓝blue，党建红red，生日金golden，分别对应有不同颜色和导航背景图，相关数据见src&#x2F;styles&#x2F;theme&#x2F;primary-type.ts</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">type</span> &#123; <span class="title class_">Theme</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@/hooks/interface&#x27;</span></span><br><span class="line"><span class="keyword">import</span> blueUrl <span class="keyword">from</span> <span class="string">&#x27;@/assets/images/header-bg-blue.png&#x27;</span></span><br><span class="line"><span class="keyword">import</span> blueTopUrl <span class="keyword">from</span> <span class="string">&#x27;@/assets/images/header-bg-blue-top.png&#x27;</span></span><br><span class="line"><span class="keyword">import</span> blueBottomUrl <span class="keyword">from</span> <span class="string">&#x27;@/assets/images/header-bg-blue-bottom.png&#x27;</span></span><br><span class="line"><span class="keyword">import</span> redUrl <span class="keyword">from</span> <span class="string">&#x27;@/assets/images/header-bg-red.png&#x27;</span></span><br><span class="line"><span class="keyword">import</span> redTopUrl <span class="keyword">from</span> <span class="string">&#x27;@/assets/images/header-bg-red-top.png&#x27;</span></span><br><span class="line"><span class="keyword">import</span> redBottomUrl <span class="keyword">from</span> <span class="string">&#x27;@/assets/images/header-bg-red-bottom.png&#x27;</span></span><br><span class="line"><span class="keyword">import</span> goldenUrl <span class="keyword">from</span> <span class="string">&#x27;@/assets/images/header-bg-golden.png&#x27;</span></span><br><span class="line"><span class="keyword">import</span> goldenTopUrl <span class="keyword">from</span> <span class="string">&#x27;@/assets/images/header-bg-golden-top.png&#x27;</span></span><br><span class="line"><span class="keyword">import</span> goldenBottomUrl <span class="keyword">from</span> <span class="string">&#x27;@/assets/images/header-bg-golden-bottom.png&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">primaryTypes</span>: <span class="title class_">Record</span>&lt;<span class="title class_">Theme</span>.<span class="property">PrimaryType</span>, &#123; [<span class="attr">key</span>: <span class="built_in">string</span>]: <span class="built_in">string</span> &#125;&gt; = &#123;</span><br><span class="line">  <span class="attr">blue</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;--kr-color-primary&#x27;</span>: <span class="string">&#x27;#4f75e9&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;--header-bg-img&#x27;</span>: <span class="string">`url(&quot;<span class="subst">$&#123;blueUrl&#125;</span>&quot;)`</span>,</span><br><span class="line">    <span class="string">&#x27;--header-bg-img-top&#x27;</span>: <span class="string">`url(&quot;<span class="subst">$&#123;blueTopUrl&#125;</span>&quot;)`</span>,</span><br><span class="line">    <span class="string">&#x27;--header-bg-img-bottom&#x27;</span>: <span class="string">`url(&quot;<span class="subst">$&#123;blueBottomUrl&#125;</span>&quot;)`</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">red</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;--kr-color-primary&#x27;</span>: <span class="string">&#x27;#F26447&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;--header-bg-img&#x27;</span>: <span class="string">`url(&quot;<span class="subst">$&#123;redUrl&#125;</span>&quot;)`</span>,</span><br><span class="line">    <span class="string">&#x27;--header-bg-img-top&#x27;</span>: <span class="string">`url(&quot;<span class="subst">$&#123;redTopUrl&#125;</span>&quot;)`</span>,</span><br><span class="line">    <span class="string">&#x27;--header-bg-img-bottom&#x27;</span>: <span class="string">`url(&quot;<span class="subst">$&#123;redBottomUrl&#125;</span>&quot;)`</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">golden</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;--kr-color-primary&#x27;</span>: <span class="string">&#x27;#F5A24D&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;--header-bg-img&#x27;</span>: <span class="string">`url(&quot;<span class="subst">$&#123;goldenUrl&#125;</span>&quot;)`</span>,</span><br><span class="line">    <span class="string">&#x27;--header-bg-img-top&#x27;</span>: <span class="string">`url(&quot;<span class="subst">$&#123;goldenTopUrl&#125;</span>&quot;)`</span>,</span><br><span class="line">    <span class="string">&#x27;--header-bg-img-bottom&#x27;</span>: <span class="string">`url(&quot;<span class="subst">$&#123;goldenBottomUrl&#125;</span>&quot;)`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>重点：项目中开发者可通过DEFAULT_PRIMARY_TYPE进行设置默认主题；</p>
<p>系统中也内置了更改主题的功能，用户可根据喜好选择主题；</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1732705612869-f177bdb4-1a53-45c4-b440-5e68a5bd8e30.png"></p>
<h4 id="APP-CODE-应用code-重点"><a href="#APP-CODE-应用code-重点" class="headerlink" title="APP_CODE 应用code(重点)"></a>APP_CODE 应用code(重点)</h4><ul>
<li>重点：这里的应用code应根据业务系统在开发平台中注册的应用中保存的编码设置</li>
<li>后续需要请求的应用菜单，应用的多语言等都需要该code</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1732705871946-6813c280-49e8-46ec-a36a-ff20ed2e3b1c.png"></p>
<h4 id="HOME-URL-首页地址"><a href="#HOME-URL-首页地址" class="headerlink" title="HOME_URL 首页地址"></a>HOME_URL 首页地址</h4><p>模板项目中：如果设置的该首页地址在路由中存在则认为是首页地址否则会找到路由中的第一个有效路径作为路由地址，见src&#x2F;utils&#x2F;index.ts中获取首页地址逻辑代码如下：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="variable constant_">HOME_URL</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@/config&#x27;</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> routers 路由列表</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span> 默认首页</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">getHomeUrl</span>(<span class="params"></span>): <span class="built_in">string</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> routers = router.<span class="title function_">getRoutes</span>()</span><br><span class="line">  <span class="keyword">let</span> defaultHomePath</span><br><span class="line">  routers.<span class="title function_">forEach</span>(<span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (item.<span class="property">path</span> === <span class="variable constant_">HOME_URL</span> || item.<span class="property">isHomeUrl</span>) &#123;</span><br><span class="line">      defaultHomePath = item.<span class="property">path</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> defaultHomePath || routers[<span class="number">0</span>].<span class="property">path</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在用到首页地址的地方都会调用该方法，如果需要修改逻辑请全局搜索getHomeUrl即可找到使用首页地址的地方。</p>
<p>重点：所以建议在配置应用菜单时配置好首页地址，并在src&#x2F;config.ts中赋值给HOME_URL</p>
<h3 id="系统服务地址配置（重点）"><a href="#系统服务地址配置（重点）" class="headerlink" title="系统服务地址配置（重点）"></a>系统服务地址配置（重点）</h3><ul>
<li>为了能够在部署时灵活修改后端接口地址，该项目模板将前端所需要连接的所有地址都统一配置在了public&#x2F;config.js中，可根据业务需求进行相应接口地址调整代码如下：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// eslint-disable-next-line no-unused-vars</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">serviceConfig</span> = &#123;</span><br><span class="line">  <span class="comment">// 开发环境配置</span></span><br><span class="line">  <span class="attr">development</span>: &#123;</span><br><span class="line">    <span class="comment">// 本地环境接口地址</span></span><br><span class="line">    <span class="comment">// 后端访问地址的根路径，在vue.config.js中配置devServer，设置服务路径的路由规则，如果是分布式，则分别设置每个服务路径的路由规则</span></span><br><span class="line">    <span class="attr">VITE_API_URL</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="comment">// WebSocket、在线文档等</span></span><br><span class="line">    <span class="attr">VITE_ONLINE_URL</span>: <span class="string">&#x27;/api/ws&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 字体文件地址</span></span><br><span class="line">    <span class="attr">VITE_API_FONT_URL</span>: <span class="string">&#x27;http://10.11.228.190/font&#x27;</span>,</span><br><span class="line">    <span class="comment">// 云程前端项目运行的地址</span></span><br><span class="line">    <span class="attr">VITE_API_YUNCHENG_URL</span>: <span class="string">`http://<span class="subst">$&#123;location.hostname&#125;</span>:3000`</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//  打包之后的测试环境配置</span></span><br><span class="line">  <span class="attr">test</span>: &#123;</span><br><span class="line">    <span class="comment">// 接口地址</span></span><br><span class="line">    <span class="attr">VITE_API_URL</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// WebSocket、在线文档等</span></span><br><span class="line">    <span class="attr">VITE_ONLINE_URL</span>: <span class="string">&#x27;/api/ws&#x27;</span>,</span><br><span class="line">    <span class="comment">// 字体文件地址</span></span><br><span class="line">    <span class="attr">VITE_API_FONT_URL</span>: <span class="string">&#x27;http://10.11.228.190/font&#x27;</span>,</span><br><span class="line">    <span class="comment">// 云程前端项目运行的地址</span></span><br><span class="line">    <span class="attr">VITE_API_YUNCHENG_URL</span>: <span class="string">`http://<span class="subst">$&#123;location.hostname&#125;</span>:3000`</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 打包之后的生产环境配置</span></span><br><span class="line">  <span class="attr">production</span>: &#123;</span><br><span class="line">    <span class="comment">// 接口地址</span></span><br><span class="line">    <span class="attr">VITE_API_URL</span>: <span class="string">&#x27;http://10.11.228.190&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// WebSocket、在线文档等</span></span><br><span class="line">    <span class="attr">VITE_ONLINE_URL</span>: <span class="string">&#x27;http://10.11.228.190/api/ws&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 字体文件地址</span></span><br><span class="line">    <span class="attr">VITE_API_FONT_URL</span>: <span class="string">&#x27;http://10.11.228.190/font&#x27;</span>,</span><br><span class="line">    <span class="comment">// 云程前端项目运行的地址</span></span><br><span class="line">    <span class="attr">VITE_API_YUNCHENG_URL</span>: <span class="string">&#x27;http://10.11.228.190/yc&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>在src&#x2F;api&#x2F;config&#x2F;service-port.ts根据后端做的服务前缀代理进行相关的服务前缀配置；</li>
<li>然后在src&#x2F;api&#x2F;modules下建相应模块接口文件进行相应接口地址拼接；可参src&#x2F;api&#x2F;modules&#x2F;common&#x2F;login.ts</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 后端微服务模块前缀</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 应用的服务前缀</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="variable constant_">PORT_SYSTEM</span> = <span class="string">&#x27;/api/api&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="variable constant_">PORT_SYSTEM</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/config/service-port&#x27;</span></span><br><span class="line"><span class="keyword">import</span> http <span class="keyword">from</span> <span class="string">&#x27;@/api&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@name</span> 登录模块</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// 登录模块</span></span><br><span class="line"><span class="keyword">export</span> namespace <span class="title class_">Login</span> &#123;</span><br><span class="line">  <span class="keyword">export</span> interface <span class="title class_">ReqLoginForm</span> &#123;</span><br><span class="line">    <span class="attr">userName</span>: string</span><br><span class="line">    <span class="attr">password</span>: string</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">export</span> interface <span class="title class_">ResLogin</span> &#123;</span><br><span class="line">    <span class="attr">token</span>: string</span><br><span class="line">    <span class="attr">userInfo</span>: &#123;</span><br><span class="line">      <span class="attr">staffId</span>: number</span><br><span class="line">      [<span class="attr">key</span>: string]: any</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">export</span> interface <span class="title class_">ResAuthButtons</span> &#123;</span><br><span class="line">    [<span class="attr">key</span>: string]: string[]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 获取验证码类型返回类型</span></span><br><span class="line">  <span class="keyword">export</span> interface <span class="title class_">Captcha</span> &#123;</span><br><span class="line">    [<span class="attr">key</span>: string]: string[]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 校验验证码入参</span></span><br><span class="line">  <span class="keyword">export</span> interface <span class="title class_">CheckCaptcaReq</span> &#123;</span><br><span class="line">    <span class="attr">captchaType</span>: string <span class="comment">// 验证码类型，暂时只有一种,为 captchaType:blockPuzzle</span></span><br><span class="line">    <span class="attr">pointJson</span>: string <span class="comment">// 拖动的点位信息(有加密)</span></span><br><span class="line">    <span class="attr">token</span>: string <span class="comment">// token信息(验证码token)</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 校验验证码出参</span></span><br><span class="line">  <span class="keyword">export</span> interface <span class="title class_">CheckCaptcaRes</span> &#123;</span><br><span class="line">    [<span class="attr">key</span>: string]: string[]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">export</span> interface <span class="title class_">AuthInfo</span> &#123;</span><br><span class="line">    <span class="attr">permissions</span>: string[]</span><br><span class="line">    <span class="attr">roles</span>: string[]</span><br><span class="line">    <span class="attr">menus</span>: <span class="title class_">AppCustomRouteRecordRaw</span>[]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">export</span> interface <span class="title class_">ReqGetParams</span> &#123;</span><br><span class="line">    name?: string</span><br><span class="line">    ecode?: string</span><br><span class="line">    namespace?: string</span><br><span class="line">    [<span class="attr">property</span>: string]: any</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">export</span> interface <span class="title class_">AuthUser</span> &#123;</span><br><span class="line">    <span class="attr">appCode</span>: string</span><br><span class="line">    <span class="attr">fetchAvatar</span>: boolean <span class="comment">// 是否有头像</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 获取验证码</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getCaptcha</span> = (<span class="params">params: &#123; captchaType: string &#125;</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> http.<span class="property">post</span>&lt;<span class="title class_">Login</span>.<span class="property">Captcha</span>&gt;(<span class="variable constant_">PORT_SYSTEM</span> + <span class="string">`/captcha/get`</span>, params, &#123; <span class="attr">loading</span>: <span class="literal">false</span> &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取验证码</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">checkCaptcha</span> = (<span class="params">params: Login.CheckCaptcaReq</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> http.<span class="property">post</span>&lt;<span class="title class_">Login</span>.<span class="property">CheckCaptcaRes</span>&gt;(<span class="variable constant_">PORT_SYSTEM</span> + <span class="string">`/captcha/check`</span>, params, &#123; <span class="attr">loading</span>: <span class="literal">false</span> &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 用户登录</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">authLogin</span> = (<span class="params">params: Login.ReqLoginForm</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> http.<span class="property">post</span>&lt;<span class="title class_">Login</span>.<span class="property">ResLogin</span>&gt;(<span class="variable constant_">PORT_SYSTEM</span> + <span class="string">`/user/auth/login`</span>, params, &#123; <span class="attr">loading</span>: <span class="literal">false</span> &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取用户信息和权限信息</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getAutInfoApi</span> = (<span class="params">params: Login.AuthUser</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> http.<span class="title function_">post</span>(<span class="variable constant_">PORT_SYSTEM</span> + <span class="string">`/client/user-auth-info`</span>, params)</span><br><span class="line">  <span class="comment">// return authInfo</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 用户退出登录</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">logoutApi</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> http.<span class="title function_">post</span>(<span class="variable constant_">PORT_SYSTEM</span> + <span class="string">`/logout`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="全局样式"><a href="#全局样式" class="headerlink" title="全局样式"></a>全局样式</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">styles                 </span><br><span class="line">├─ koron               </span><br><span class="line">│  └─ var.scss         </span><br><span class="line">├─ tailwind            </span><br><span class="line">│  ├─ base.scss        </span><br><span class="line">│  ├─ components.scss  </span><br><span class="line">│  └─ utilities.scss   </span><br><span class="line">├─ theme               </span><br><span class="line">│  ├─ aside.ts         </span><br><span class="line">│  ├─ header.ts        </span><br><span class="line">│  ├─ menu.ts          </span><br><span class="line">│  └─ primary-type.ts  </span><br><span class="line">├─ common.scss         </span><br><span class="line">└─ index.scss          </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>koron文件夹:可以对koron-ui组件库进行主题自定义设置–若产品风格不变，这里无需改动；</li>
<li>tailwind文件夹：对tailwind css框架中基础样式的引用–这里无需改动</li>
<li>theme文件夹:是对项目的头部导航，侧边栏，菜单的<strong>黑暗模式</strong>和<strong>正常模式</strong>的<strong>颜色变量设置</strong>以及对<strong>三种主题类型</strong>的颜色变量设置；如果需要<strong>自定义更多主题色或更改主题色</strong>可在此处修改。</li>
<li>common.scss: 项目全局样式<ol>
<li>定义了页面加载进度条<code>&lt;font style=&quot;color:#ED740C;&quot;&gt;nprogress&lt;/font&gt;</code>的样式–若产品风格不变，<code>&lt;font style=&quot;color:#ED740C;&quot;&gt;nprogress&lt;/font&gt;</code>的样式无需改动</li>
<li>定义了<strong>占满容器剩余部分</strong>的class<code>&lt;font style=&quot;color:#ED740C;&quot;&gt;flex-full&lt;/font&gt;</code>以及其衍生类，需要定义<strong>占满容器剩余部分</strong>的元素可直接使用该class** **。</li>
</ol>
</li>
</ul>
<p>重点：</p>
<ul>
<li>建议开发过程中尽量使用已定义好的<a target="_blank" rel="noopener" href="http://10.11.3.132:8082/platform/ebs_ui/blob/master/packages/theme-chalk/src/element/var.scss">样式变量</a>自动生成的csss变量而非实际样式值：比如使用主题色，使用常用字体大小，字体颜色等等。</li>
<li>其中<a target="_blank" rel="noopener" href="http://10.11.3.132:8082/platform/ebs_ui/blob/master/packages/theme-chalk/src/element/var.scss">样式变量</a>中的scss变量是根据elementPlus的定制的主题能够自动生成css变量，我们只需要使用ElementPlus的css变量即可，如主题色var(–el-color-primary)</li>
</ul>
<h2 id="字体图标使用"><a href="#字体图标使用" class="headerlink" title="字体图标使用"></a>字体图标使用</h2><p>本项目模板中在main.ts分别引入了基础图标和菜单图标如下：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// iconfont</span></span><br><span class="line"><span class="comment">/** 公司的通用基础icon图标</span></span><br><span class="line"><span class="comment"> * 图标库地址: https://www.iconfont.cn/manage/index?spm=a313x.manage_index.i1.db775f1f3.53683a81TEUz0d&amp;manage_type=myprojects&amp;projectId=4651197</span></span><br><span class="line"><span class="comment"> * 说明： 不引入也可通过组件库中kr-svg-icon组件使用</span></span><br><span class="line"><span class="comment"> *  */</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@/assets/iconfonts/common/iconfont.js&#x27;</span></span><br><span class="line"><span class="comment">/** 公司的菜单图标</span></span><br><span class="line"><span class="comment"> * 图标库地址: https://www.iconfont.cn/manage/index?spm=a313x.manage_index.i1.db775f1f3.53683a81TEUz0d&amp;manage_type=myprojects&amp;projectId=4616214</span></span><br><span class="line"><span class="comment"> * 说明：每个系统要用的菜单图标库要与菜单配置系统（应用开发平台）为菜单配置的图标保持一致</span></span><br><span class="line"><span class="comment"> *  */</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@/assets/iconfonts/menu/iconfont.js&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>使用方法：</p>
<ol>
<li>引入基础图标和菜单图标文件</li>
<li>使用kr-svg-icon组件（组件教程见<a target="_blank" rel="noopener" href="http://10.11.228.190:8889/">koron-ui组件库文档</a>）</li>
</ol>
<p>注意：各项目要与应用开发平台及时沟通进行同步图标文件（后续可部署图标为在线模式（需要有个静态资源服务地址，类似思源字体部署方式），引入图标文件链接地址就可同步了）</p>
<h2 id="布局（一般无需改动）"><a href="#布局（一般无需改动）" class="headerlink" title="布局（一般无需改动）"></a>布局（一般无需改动）</h2><p>该框架的总体布局和公共功能无特殊需求一般不用改动，如果因为接口数据结构或逻辑的调整可参考以下各个部分的介绍帮助开发者快速理解开发逻辑从而能够提高相应的开发效率。</p>
<h3 id="顶部导航的介绍"><a href="#顶部导航的介绍" class="headerlink" title="顶部导航的介绍"></a><font style="color:rgb(0, 0, 0);">顶部导航的介绍</font></h3><p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733298160387-0d0220ed-6b4c-4f37-8828-f4d99fa23571.png"></p>
<h4 id="title"><a href="#title" class="headerlink" title="title"></a><font style="color:rgb(0, 0, 0);">title</font></h4><p>系统名称，在本项目中是通过<code>src/layouts/components/Header/components/Title.vue</code>组件渲染的</p>
<p>通过<strong>请求应用列表</strong>和本地配置的<strong>APP_CODE</strong>过滤出该应用对象获得title.</p>
<p>核心代码如下：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733283076617-1f53947e-d9c6-480a-b215-bcdd47d8938e.png"></p>
<p>重点：若需要修改title相关逻辑可根据上述介绍在相关代码位置进行逻辑修改。</p>
<h4 id="logo"><a href="#logo" class="headerlink" title="logo"></a><font style="color:rgb(0, 0, 0);">logo</font></h4><p>系统logo，在本项目中是在<code>src/layouts/layoutClassic/index.vue</code>渲染logo图片实现的。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733284933418-9455f683-ceed-4f01-9c7c-e96d5448c115.png"></p>
<p>重点：其中logo图片地址：<code>@/assets/images/logo.png</code>，如需要修改，替换掉图片即可</p>
<h4 id="导航右侧："><a href="#导航右侧：" class="headerlink" title="导航右侧："></a><font style="color:rgb(0, 0, 0);">导航右侧：</font></h4><p>在本项目中是通过<code>src/layouts/components/Header/ToolBarRight.vue</code>组件渲染的</p>
<p>由用户名称，消息提示，设置三部分组成</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733293738508-ecd8ae8d-a7e2-4989-b732-7636af061766.png"></p>
<h5 id="用户名称显示"><a href="#用户名称显示" class="headerlink" title="用户名称显示"></a><font style="color:rgb(0, 0, 0);">用户名称显示</font></h5><p> 通过状态管理器中userStore的数据获取：<code>userStore.loginUserInfo?.realName</code></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733293765965-2136ac80-43f4-4869-bb80-b1a798eac5c8.png"></p>
<h5 id="消息提示"><a href="#消息提示" class="headerlink" title="消息提示"></a><font style="color:rgb(0, 0, 0);">消息提示</font></h5><p>在本项目中是通过<code>src/layouts/components/Header/components/Message.vue</code>组件渲染的，相关消息的请求接口（src&#x2F;api&#x2F;modules&#x2F;commonmessage-list）在此处调用,如需修改相关消息的逻辑可在此处进行开发。</p>
<h5 id="设置图标中更多功能-这里是"><a href="#设置图标中更多功能-这里是" class="headerlink" title="设置图标中更多功能(这里是)"></a><font style="color:rgb(0, 0, 0);">设置图标中更多功能(这里是)</font></h5><p><font style="color:rgb(0, 0, 0);">在本项目中是通过</font><code>&lt;font style=&quot;color:rgb(0, 0, 0);&quot;&gt;src/layouts/components/Header/components/Setting.vue&lt;/font&gt;</code><font style="color:rgb(0, 0, 0);">组件渲染的</font></p>
<p><font style="color:rgb(0, 0, 0);">其中包含了个人信息，修改密码，设置皮肤，设置语言，设置字体，退出登录等功能，详见相关组件即可</font></p>
<h3 id="菜单布局的介绍"><a href="#菜单布局的介绍" class="headerlink" title="菜单布局的介绍"></a><font style="color:rgb(0, 0, 0);">菜单布局的介绍</font></h3><p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733298195255-d6489460-71fe-4c5c-8bbd-8246570a9377.png"></p>
<p>菜单的渲染在<code>src/layouts/layoutClassic/index.vue</code>中开发：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733295183115-6e67633c-9efa-42e0-bf3e-c52cc467d3b9.png"></p>
<p>菜单数据是menuList是根据状态管理器authStore的showMenuListGet获取的</p>
<h3 id="tab页签的介绍"><a href="#tab页签的介绍" class="headerlink" title="tab页签的介绍"></a><font style="color:rgb(0, 0, 0);">tab页签的介绍</font></h3><p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733298245476-83cdfa17-d45b-45f7-8cbb-976385b5d93f.png"></p>
<p>该功能用于方便用户快速打开已打开的页面</p>
<p>在本项目中是通过<code>src/layouts/components/Tabs</code>组件渲染的</p>
<p>页签的显示关闭通过状态管理器<code>src/stores/modules/tabs.ts</code>进行逻辑处理的</p>
<h1 id="第三部分-基础功能使用"><a href="#第三部分-基础功能使用" class="headerlink" title="第三部分:基础功能使用"></a>第三部分:基础功能使用</h1><h2 id="公共组件"><a href="#公共组件" class="headerlink" title="公共组件"></a>公共组件</h2><p>已在main.ts中进行全局注册，可直接使用。</p>
<h3 id="左右布局组件TwoColPage"><a href="#左右布局组件TwoColPage" class="headerlink" title="左右布局组件TwoColPage"></a><font style="color:rgb(0, 0, 0);">左右布局组件TwoColPage</font></h3><p>固定左侧容器宽度，右侧容器占满剩余空间</p>
<p>源码位置：<code>src/components/TwoColPage</code></p>
<p>使用时左右两部分分别通过具名插槽right和left渲染进去</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;TwoColPage&gt;</span><br><span class="line">    &lt;template #left&gt;</span><br><span class="line">      &lt;div&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;template #right&gt;</span><br><span class="line">      &lt;div&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">  &lt;/TwoColPage&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(44, 62, 80);">代码演示参考 应用开发平台》组织管理》组织结构（src&#x2F;views&#x2F;organization&#x2F;organization-item&#x2F;index.vue)</font></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733299653405-9bb7e1fe-0a4f-4c45-9dfe-8bbb58ea99a5.png"></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733912774459-a636d7e7-0de7-4a28-86dc-e1d668f354bc.png"></p>
<p>:::info<br>统一的布局组件帮助系统能够布局保持一致，维护更方便</p>
<p>:::</p>
<h3 id="选人组件UserSelect"><a href="#选人组件UserSelect" class="headerlink" title="选人组件UserSelect"></a>选人组件UserSelect</h3><p>作为表单控件，点击该控件，弹出左组织右用户的选人弹窗.</p>
<p>注意：该组件属于业务组件：在该组件内是请求了组织，人员等接口，数据字段是确定的，所以在为modelValue赋值时注意要求的数据类型</p>
<p>源码位置：<code>src/components/UserSelect</code></p>
<p>可通过multiple属性配置多选 还是单选；通过default-value 为控件初始化所选人员，通过change事件获得已选人员</p>
<p>该组件属性及事件说明如下：</p>
<p>属性</p>
<table>
<thead>
<tr>
<th>属性名</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>default-value</td>
<td>初始化已选数据(必传)</td>
<td><code>SelStaff</code>[]</td>
<td>[]</td>
</tr>
<tr>
<td>multiple</td>
<td>是否多选</td>
<td>boolean</td>
<td>true</td>
</tr>
</tbody></table>
<p>事件</p>
<table>
<thead>
<tr>
<th>事件名</th>
<th>说明</th>
<th>Type</th>
</tr>
</thead>
<tbody><tr>
<td>change</td>
<td>当点击确定按钮触发的事件</td>
<td>Function:(ids:string[],selectedData:<code>User.Staff</code>[] ) &#x3D;&gt; void</td>
</tr>
</tbody></table>
<p>其中<code>SelStaff</code>结构中的staffId必须传递：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">SelStaff</span> &#123;</span><br><span class="line">  <span class="attr">staffId</span>: <span class="built_in">number</span> <span class="comment">// 员工ID</span></span><br><span class="line">  [<span class="attr">property</span>: <span class="built_in">string</span>]: <span class="built_in">any</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>User.Staff </code> 来源于 ‘src&#x2F;api&#x2F;modules&#x2F;common&#x2F;user’,数据结构如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">interface Staff &#123;</span><br><span class="line">    /**</span><br><span class="line">     * 账号状态(1正常；2冻结)</span><br><span class="line">     */</span><br><span class="line">    accountStatus: AccountStatus</span><br><span class="line">    /**</span><br><span class="line">     * 应用code</span><br><span class="line">     */</span><br><span class="line">    appCode?: string</span><br><span class="line">    /**</span><br><span class="line">     * 头像</span><br><span class="line">     */</span><br><span class="line">    avatar?: string</span><br><span class="line">    /**</span><br><span class="line">     * 生日</span><br><span class="line">     */</span><br><span class="line">    birthday?: Date</span><br><span class="line">    /**</span><br><span class="line">     * 直接上级</span><br><span class="line">     */</span><br><span class="line">    directSupervisor?: string</span><br><span class="line">    /**</span><br><span class="line">     * 岗位编码</span><br><span class="line">     */</span><br><span class="line">    dutyCode?: number</span><br><span class="line">    /**</span><br><span class="line">     * 邮箱</span><br><span class="line">     */</span><br><span class="line">    email: string</span><br><span class="line">    /**</span><br><span class="line">     * 英文名</span><br><span class="line">     */</span><br><span class="line">    englishName?: string</span><br><span class="line">    /**</span><br><span class="line">     * 性别(1男；2女；)</span><br><span class="line">     */</span><br><span class="line">    gender: Gender</span><br><span class="line">    /**</span><br><span class="line">     * 是否实体用户</span><br><span class="line">     */</span><br><span class="line">    isEntityUser: boolean</span><br><span class="line">    /**</span><br><span class="line">     * 手机号</span><br><span class="line">     */</span><br><span class="line">    mobile: string</span><br><span class="line">    /**</span><br><span class="line">     * 组织Node名称</span><br><span class="line">     */</span><br><span class="line">    orgNodeName?: string</span><br><span class="line">    /**</span><br><span class="line">     * 职务编码</span><br><span class="line">     */</span><br><span class="line">    positionCode?: number</span><br><span class="line">    /**</span><br><span class="line">     * 姓名</span><br><span class="line">     */</span><br><span class="line">    realName: string</span><br><span class="line">    /**</span><br><span class="line">     * 员工ID</span><br><span class="line">     */</span><br><span class="line">    staffId: number</span><br><span class="line">    /**</span><br><span class="line">     * 员工状态(1在职；2离职；3休假)</span><br><span class="line">     */</span><br><span class="line">    staffStatus: StaffStatus</span><br><span class="line">    /**</span><br><span class="line">     * 更新时间，系统自动赋值</span><br><span class="line">     */</span><br><span class="line">    updateTime?: Date</span><br><span class="line">    /**</span><br><span class="line">     * 更新人，系统自动赋值用户账号</span><br><span class="line">     */</span><br><span class="line">    updateUser?: string</span><br><span class="line">    /**</span><br><span class="line">     * 用户登录名</span><br><span class="line">     */</span><br><span class="line">    username: string</span><br><span class="line">    /**</span><br><span class="line">     * 工号</span><br><span class="line">     */</span><br><span class="line">    workNo: string</span><br><span class="line">    [property: string]: any</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>示例代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;UserSelect</span><br><span class="line">    :default-value=&quot;selectUser&quot;</span><br><span class="line">    :multiple=&quot;false&quot;</span><br><span class="line">    @change=&quot;userSelChange&quot;</span><br><span class="line">  &gt;&lt;/UserSelect&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;TrustFormDialog&quot;&gt;</span><br><span class="line">import &#123; ref, reactive &#125; from &#x27;vue&#x27;</span><br><span class="line">import type &#123; User &#125; from &#x27;@/api/modules/common/user&#x27;</span><br><span class="line">import UserSelect from &#x27;@/components/UserSelect/index.vue&#x27;</span><br><span class="line"></span><br><span class="line">const model = ref&lt;&#123; [key: string]: any &#125;&gt;(&#123;&#125;)</span><br><span class="line"></span><br><span class="line">// 选中的人</span><br><span class="line">const selectUser = ref&lt;</span><br><span class="line">  &#123;</span><br><span class="line">    staffId: number // 员工ID</span><br><span class="line">    [property: string]: any</span><br><span class="line">  &#125;[]</span><br><span class="line">&gt;([])</span><br><span class="line"></span><br><span class="line">const userSelChange = (ids: (string | number)[], data: User.Staff[]) =&gt; &#123;</span><br><span class="line">  const selectedObj = data[0]</span><br><span class="line">  model.value.delegateId = ids.join(&#x27;,&#x27;)</span><br><span class="line">  model.value.delegateName = selectedObj.realName</span><br><span class="line">  model.value.delegateDeptId = selectedObj.orgNodeId</span><br><span class="line">  model.value.delegateDeptName = selectedObj.orgNodeName</span><br><span class="line">  model.value.delegate = model.value.delegateName ? model.value.delegateName + &#x27;/&#x27; + model.value.delegateDeptName : null</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(44, 62, 80);">代码演示参考 应用开发平台》流程中心》我的委托》我给他人的委托》新增（src&#x2F;views&#x2F;workflow&#x2F;modules&#x2F;trust-task&#x2F;FormDialog.vue)</font></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733305530401-270f4eda-02c1-45b0-a1ea-be43e2de046c.png"></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733305541132-295f991c-bf45-41d2-92b0-ced9c63780af.png"></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733305419494-a38c4368-ab13-4408-99be-ad7225d85376.png"></p>
<h2 id="国际化"><a href="#国际化" class="headerlink" title="国际化"></a>国际化</h2><p>本项目中国际化分为静态数据多语言配置和动态数据多语言配置</p>
<p>本项目基于vue-i18n实现国际化的，实现的基本思路如下：</p>
<h3 id="定义语言包："><a href="#定义语言包：" class="headerlink" title=" 定义语言包："></a><font style="color:rgb(25, 27, 31);"> 定义语言包：</font></h3><p><font style="color:rgb(25, 27, 31);">需要几种语言展示，就定义几个语言包,本项目模板中只定义了三种语言，</font></p>
<p>:::info<br><strong><font style="color:rgb(25, 27, 31);">如果需要配置其他语言，可在</font></strong><font style="color:rgb(25, 27, 31);">languages&#x2F;modules下</font><strong><font style="color:rgb(25, 27, 31);">增加相应语言包。</font></strong></p>
<p>:::</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1732869676907-8b2ab086-0808-41be-87b3-c905440c67b2.png"></p>
<h3 id="创建对象，对语言包进行整合"><a href="#创建对象，对语言包进行整合" class="headerlink" title="创建对象，对语言包进行整合"></a><strong><font style="color:rgb(25, 27, 31);">创建对象，对语言包进行整合</font></strong></h3><p><font style="color:rgb(25, 27, 31);">对象的 key 为语言包的引用，值为语言包对象</font></p>
<p><font style="color:rgb(25, 27, 31);">在项目中创建语言包文件夹languages&#x2F;modules中存放需要的语言包ts文件，例如创建zh-hans.ts,zh-hant.ts和en-us.ts三个语言，每种语言包中键名是自定义的，后面会在组件中使用。例如语言包部分配置如下：</font></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">header</span>: &#123;</span><br><span class="line">    <span class="attr">personalData</span>: <span class="string">&#x27;个人信息&#x27;</span>,</span><br><span class="line">    <span class="attr">changePassword</span>: <span class="string">&#x27;修改密码&#x27;</span>,</span><br><span class="line">    <span class="attr">theme</span>: <span class="string">&#x27;设置皮肤&#x27;</span>,</span><br><span class="line">    <span class="attr">themeConfig</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">language</span>: <span class="string">&#x27;设置语言&#x27;</span>,</span><br><span class="line">    <span class="attr">fontSizeConfig</span>: <span class="string">&#x27;设置字体&#x27;</span>,</span><br><span class="line">    <span class="attr">version</span>: <span class="string">&#x27;版本&#x27;</span>,</span><br><span class="line">    <span class="attr">logout</span>: <span class="string">&#x27;退出登录&#x27;</span>,</span><br><span class="line">    <span class="attr">system</span>: <span class="string">&#x27;后台管理系统&#x27;</span>,</span><br><span class="line">    <span class="attr">def</span>: <span class="string">&#x27;默认&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">  <span class="attr">header</span>: &#123;</span><br><span class="line">    <span class="attr">personalData</span>: <span class="string">&#x27;Profile&#x27;</span>,</span><br><span class="line">    <span class="attr">changePassword</span>: <span class="string">&#x27;Change Password&#x27;</span>,</span><br><span class="line">    <span class="attr">theme</span>: <span class="string">&#x27;Look And Feel&#x27;</span>,</span><br><span class="line">    <span class="attr">language</span>: <span class="string">&#x27;Language&#x27;</span>,</span><br><span class="line">    <span class="attr">fontSizeConfig</span>: <span class="string">&#x27;Font Size&#x27;</span>,</span><br><span class="line">    <span class="attr">version</span>: <span class="string">&#x27;Version&#x27;</span>,</span><br><span class="line">    <span class="attr">logout</span>: <span class="string">&#x27;Log Out&#x27;</span>,</span><br><span class="line">    <span class="attr">system</span>: <span class="string">&#x27;BackGround Manage System&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>:::info<br><strong><font style="color:rgb(25, 27, 31);">重点：如果需要配置其他系统内的静态文字，可在各个语言包中增加相应键值。</font></strong></p>
<p>:::</p>
<h4 id="静态多语言配置"><a href="#静态多语言配置" class="headerlink" title="静态多语言配置"></a>静态多语言配置</h4><p>静态多语言配置在前端项目本地配置:系统内静态文字</p>
<p>在src&#x2F;languages&#x2F;modules各个语言包内配置</p>
<ol>
<li>布局头部各个功能的文字显示</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1732874107526-68b4cbdf-10f6-4059-961f-5020c805ae1d.png"></p>
<ol start="2">
<li>http错误码的提示信息和错误页面的文字</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1732874462837-197265fd-2416-4b15-a0dd-f0ef3e93c94b.png"></p>
<ol start="3">
<li>登录模块的文字信息</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1732874498807-61fcd47f-89a7-45a7-a1a5-a6305ef418c4.png"></p>
<ol start="4">
<li>流程相关的文字显示</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1732874521784-8c0d26b0-ddc9-49ed-bfee-b3d26d6eac34.png"></p>
<h4 id="动态多语言配置"><a href="#动态多语言配置" class="headerlink" title="动态多语言配置"></a>动态多语言配置</h4><p>动态数据多语言通过接口请求获得</p>
<p>一般各个模块的表格字段，表单字段等都是通过在<strong>应用开发平台</strong>配置词条，然后再在项目中加载获取的。</p>
<p>:::info<br>重点：需要配置语言和语言词条请通过<strong>应用开发平台</strong>配置。</p>
<p>:::</p>
<p>实现原理（可不看）：</p>
<p>在路由拦截处通过状态管理器中src&#x2F;stores&#x2F;modules&#x2F;language.ts中的isSetLanguage判断是否已加载过词条</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733124886761-6f1cd373-49a7-4083-84d3-4b3c9f6e9704.png"></p>
<p>若未加载就会通过状态管理器中的setLanguageList方法进行请求该应用的语言种类和各语言种类对应的词条，各类语言请求的词条分别与本地语言包进行对比：相同key值的，请求的数据会覆盖掉本地语言包中相应的值。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733127904828-cb819a6e-fcf2-4f61-ac6f-5fd796fa037b.png"></p>
<h3 id="引入语言包"><a href="#引入语言包" class="headerlink" title="引入语言包"></a><font style="color:rgb(25, 27, 31);">引入语言包</font></h3><h4 id="引入本地语言包-可不看"><a href="#引入本地语言包-可不看" class="headerlink" title="引入本地语言包 (可不看)"></a>引入本地语言包 (可不看)</h4><p>实现原理（可不看）：</p>
<p>在src&#x2F;languages&#x2F;index.ts引入本地语言包，并创建i18n实例抛出。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createI18n &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-i18n&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; getBrowserLang &#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个通用的嵌套对象类型</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">NestedObject</span> &#123;</span><br><span class="line">  [<span class="attr">key</span>: <span class="built_in">string</span>]: <span class="built_in">any</span> <span class="comment">// 所有属性可以是任意类型</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 引入目录下文件</span></span><br><span class="line"><span class="keyword">const</span> modules = <span class="keyword">import</span>.<span class="property">meta</span>.<span class="title function_">glob</span>(<span class="string">&#x27;./modules/*&#x27;</span>, &#123; <span class="attr">eager</span>: <span class="literal">true</span> &#125;)</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取所有本地语言文件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Object</span>&#125; <span class="variable">mList</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getLangFiles</span>(<span class="params"><span class="attr">mList</span>: <span class="title class_">NestedObject</span></span>): <span class="title class_">NestedObject</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">msg</span>: <span class="title class_">NestedObject</span> = &#123;&#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> path <span class="keyword">in</span> mList) &#123;</span><br><span class="line">    <span class="keyword">if</span> (mList[path].<span class="property">default</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> pathName = path.<span class="title function_">slice</span>(path.<span class="title function_">lastIndexOf</span>(<span class="string">&#x27;/&#x27;</span>) + <span class="number">1</span>, path.<span class="property">length</span> - <span class="number">3</span>) <span class="comment">//  获取文件名</span></span><br><span class="line">      <span class="keyword">if</span> (msg[pathName]) &#123;</span><br><span class="line">        msg[pathName] = &#123;</span><br><span class="line">          ...mList[pathName],</span><br><span class="line">          ...mList[path].<span class="property">default</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        msg[pathName] = mList[path].<span class="property">default</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> msg</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> message = <span class="title function_">getLangFiles</span>(modules) <span class="comment">// 获取所有本地语言文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建i8实例</span></span><br><span class="line"><span class="keyword">const</span> i18n = <span class="title function_">createI18n</span>(&#123;</span><br><span class="line">  <span class="attr">allowComposition</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">legacy</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">locale</span>: <span class="title function_">getBrowserLang</span>(),</span><br><span class="line">  <span class="attr">messages</span>: message</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> i18n</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="引入动态数据语言包-可不看"><a href="#引入动态数据语言包-可不看" class="headerlink" title="引入动态数据语言包(可不看)"></a>引入动态数据语言包(可不看)</h4><p>实现原理（可不看）：</p>
<p>在src&#x2F;stores&#x2F;modules&#x2F;language.ts中引入i18n实例，并在获取到动态数据语言包后进行语言包配置：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733132664579-6c301858-a221-44a7-b7b6-f38305702f14.png"></p>
<h4 id="引入第三方语言包"><a href="#引入第三方语言包" class="headerlink" title="引入第三方语言包"></a>引入第三方语言包</h4><p>如果需要引入其他第三方语言包可按照下方实现方式引入：</p>
<p>在本项目App.vue中需要引入elementPlus语言包和koronUi语言包</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733133244143-115cdec7-d3fc-4293-a762-ad17d6fc1648.png"></p>
<p>本项目中也做了动态切换语言的功能：</p>
<p>src&#x2F;layouts&#x2F;components&#x2F;Header&#x2F;components&#x2F;Language.vue</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733133389050-7daaeb89-fb1f-47c9-b072-922d43fb395c.png"></p>
<p>src&#x2F;App.vue</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733133333626-0af6ca94-68a3-4b7d-871d-184a58a9c21d.png"></p>
<h3 id="挂载对象"><a href="#挂载对象" class="headerlink" title="挂载对象"></a><font style="color:rgb(25, 27, 31);">挂载对象</font></h3><p>实现原理（可不看）：</p>
<p><font style="color:rgb(25, 27, 31);">在项目的主入口文件中挂载i18n对象，例如main.ts中：</font></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue i18n</span></span><br><span class="line"><span class="keyword">import</span> I18n <span class="keyword">from</span> <span class="string">&#x27;@/languages/index&#x27;</span></span><br><span class="line"><span class="comment">// App.vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line">app.<span class="title function_">use</span>(I18n)</span><br></pre></td></tr></table></figure>

<h3 id="使用（重点）"><a href="#使用（重点）" class="headerlink" title="使用（重点）"></a>使用（重点）</h3><h4 id="在模板中使用"><a href="#在模板中使用" class="headerlink" title="在模板中使用"></a><strong><font style="color:rgb(25, 27, 31);">在模板中使用</font></strong></h4><p>参考：src&#x2F;views&#x2F;login&#x2F;components&#x2F;ResetPassword.vue</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-input</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:placeholder</span>=<span class="string">&quot;$t(&#x27;login.resetPassword.smsPlaceholder&#x27;)&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">clearable</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> #<span class="attr">suffix</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">&quot;w-full code&quot;</span></span></span><br><span class="line"><span class="tag">      &gt;</span>&#123;&#123; $t(&#x27;login.resetPassword.getSmsCode&#x27;) &#125;&#125;&lt;/el-button</span><br><span class="line">    &gt;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="在vue文件中script中使用"><a href="#在vue文件中script中使用" class="headerlink" title="在vue文件中script中使用"></a>在vue文件中script中使用</h4><p>参考：src&#x2F;views&#x2F;login&#x2F;components&#x2F;ResetPassword.vue</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; <span class="title class_">ElMessageBox</span>, <span class="title class_">ElMessage</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; useI18n &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-i18n&#x27;</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> &#123; t &#125; = <span class="title function_">useI18n</span>()</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> <span class="title function_">logout</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">ElMessageBox</span>.<span class="title function_">confirm</span>(<span class="title function_">t</span>(<span class="string">&#x27;common.loginOutMessage&#x27;</span>), <span class="title function_">t</span>(<span class="string">&#x27;common.reminder&#x27;</span>), &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">confirmButtonText</span>: <span class="title function_">t</span>(<span class="string">&#x27;common.ok&#x27;</span>),</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">cancelButtonText</span>: <span class="title function_">t</span>(<span class="string">&#x27;common.cancel&#x27;</span>),</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">then</span>(<span class="title function_">async</span> () =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="title function_">t</span>(<span class="string">&#x27;common.ok&#x27;</span>))</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="在普通ts或js文件中使用："><a href="#在普通ts或js文件中使用：" class="headerlink" title="在普通ts或js文件中使用："></a>在普通ts或js文件中使用：</h4><p>参考：src&#x2F;api&#x2F;helper&#x2F;check-status.ts</p>
<p>在文件中引入I18n实例,然后使用实例的global对象中的t方法</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElMessage</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">import</span> I18n <span class="keyword">from</span> <span class="string">&#x27;@/languages/index&#x27;</span></span><br><span class="line"><span class="keyword">const</span> &#123; t &#125; = I18n.<span class="property">global</span> <span class="keyword">as</span> <span class="built_in">any</span></span><br><span class="line"><span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="title function_">t</span>(<span class="string">&#x27;error.400&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="路由、菜单"><a href="#路由、菜单" class="headerlink" title="路由、菜单"></a>路由、菜单</h2><p>路由配置在 <a target="_blank" rel="noopener" href="https://github.com/HalseySpicy/Geeker-Admin/tree/master/src/routers">src&#x2F;routers</a> 文件下面：</p>
<p>:::info</p>
<ul>
<li>项目默认采用动态添加路由方式控制</li>
<li>需要其它路由功能根据自己项目需求改造</li>
</ul>
<p>:::</p>
<h3 id="目录结构-1"><a href="#目录结构-1" class="headerlink" title="目录结构"></a>目录结构</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├─ routers                    # 路由相关文件</span><br><span class="line">├ ├─ modules                  # 路由模块</span><br><span class="line">├ ├ ├─ dynamicRouter.ts       # 动态路由添加逻辑</span><br><span class="line">├ │ └─ staticRouter.ts        # 静态路由配置</span><br><span class="line">├ └─index.ts                  # 封装后的路由拦截</span><br><span class="line">└─</span><br></pre></td></tr></table></figure>

<h3 id="路由参数"><a href="#路由参数" class="headerlink" title="路由参数"></a>路由参数</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 路由参数简介 */</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">RouteRecordRaw</span> &#123;</span><br><span class="line">    <span class="comment">/** 路由访问路径 */</span></span><br><span class="line">    <span class="attr">path</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="comment">/** 路由 name */</span></span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="comment">/** 路由重定向地址 */</span></span><br><span class="line">    <span class="attr">redirect</span>?: <span class="built_in">string</span>;</span><br><span class="line">    <span class="comment">/** 视图文件路径 */</span></span><br><span class="line">    <span class="attr">component</span>: <span class="built_in">string</span> | (<span class="function">() =&gt;</span> <span class="title class_">Promise</span>&lt;<span class="built_in">unknown</span>&gt;);</span><br><span class="line">    <span class="comment">/** 路由元信息 */</span></span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">       <span class="comment">/**外链地址 */</span></span><br><span class="line">        <span class="attr">url</span>?:<span class="built_in">string</span>;</span><br><span class="line">        <span class="comment">/** 菜单和面包屑对应的图标 */</span></span><br><span class="line">        <span class="attr">icon</span>: <span class="built_in">string</span>;</span><br><span class="line">      </span><br><span class="line">        <span class="comment">/** 路由标题 (用作 document.title || 菜单的名称) */</span></span><br><span class="line">        <span class="attr">title</span>: <span class="built_in">string</span>;</span><br><span class="line">      </span><br><span class="line">        <span class="comment">/** 是否在菜单中隐藏 (通常列表详情页需要隐藏) */</span></span><br><span class="line">        <span class="attr">hide</span>: <span class="built_in">boolean</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/** 当前路由是否缓存 */</span></span><br><span class="line">        <span class="attr">isKeepAlive</span>: <span class="built_in">boolean</span>;</span><br><span class="line">        <span class="comment">/** 菜单是否固定在标签页中 (首页通常是固定项) */</span></span><br><span class="line">        <span class="attr">isAffix</span>:<span class="built_in">boolean</span>;</span><br><span class="line">       <span class="comment">/** 菜单是否全屏 (示例：数据大屏页面) */</span></span><br><span class="line">        <span class="attr">isFull</span>: <span class="built_in">boolean</span>;</span><br><span class="line">        <span class="comment">/** 菜单是否内嵌在layout下 */</span></span><br><span class="line">        <span class="attr">isInner</span>:<span class="built_in">boolean</span>;</span><br><span class="line">        <span class="comment">/** 外链菜单在新页签中打开 */</span></span><br><span class="line">        <span class="attr">isOut</span>:<span class="built_in">boolean</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">/** 多级路由嵌套 */</span></span><br><span class="line">    <span class="attr">children</span>: <span class="title class_">RouteRecordRaw</span>[];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>:::warning</p>
<ul>
<li>当path以”http:&#x2F;&#x2F;“或”https:&#x2F;&#x2F;“开头时认为是外链；</li>
<li>菜单打开方式：内嵌，全屏，新页签，三个方式是互斥的。</li>
<li>新页签方式在path配置的是外链时起作用，否则当作内嵌菜单处理；内嵌，全屏无论path是普通菜单路径还是外链都起作用；</li>
</ul>
<p>:::</p>
<h3 id="路由实现"><a href="#路由实现" class="headerlink" title="路由实现"></a>路由实现</h3><ul>
<li>默认根据后端接口返回的数据生成动态路由,在utils&#x2F;router-helper.ts中的generateRoute方法对原始后端数据进行处理返回RouteRecordRaw接口对应结构的路由数据</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 处理树结构的原始数据为路由需要的</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">generateRoute</span>(<span class="params"><span class="attr">data</span>: <span class="built_in">any</span>[], <span class="attr">parentPath</span>: <span class="built_in">string</span>, <span class="attr">parentStatus</span>: <span class="built_in">boolean</span>, <span class="attr">arr</span>: <span class="built_in">any</span>[]</span>) &#123;</span><br><span class="line">  data.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (item.<span class="property">style</span> === <span class="number">3</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    arr.<span class="title function_">push</span>(&#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">`<span class="subst">$&#123;parentPath&#125;</span>/<span class="subst">$&#123;item.path&#125;</span>`</span>,</span><br><span class="line">      <span class="attr">name</span>: <span class="string">`<span class="subst">$&#123;item.interfaceItemId&#125;</span>`</span>,</span><br><span class="line">      <span class="attr">meta</span>: &#123;</span><br><span class="line">        <span class="attr">icon</span>: item.<span class="property">icon</span>,</span><br><span class="line">        <span class="attr">title</span>: item.<span class="property">name</span>,</span><br><span class="line">        <span class="attr">hide</span>: item.<span class="property">hide</span>,</span><br><span class="line">        <span class="attr">isKeepAlive</span>: item.<span class="property">keepAlive</span>,</span><br><span class="line">        <span class="attr">isAffix</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">isFull</span>: item.<span class="property">openMode</span> === <span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">        <span class="attr">isInner</span>: item.<span class="property">openMode</span> === <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        <span class="attr">isOut</span>: item.<span class="property">openMode</span> === <span class="string">&#x27;3&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      <span class="attr">children</span>: []</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">isHttp</span>(item.<span class="property">path</span>)) &#123;</span><br><span class="line">      arr[index].<span class="property">meta</span>.<span class="property">url</span> = item.<span class="property">path</span></span><br><span class="line">      <span class="comment">// 外链的菜单：无组件，无子菜单</span></span><br><span class="line">      arr[index].<span class="property">component</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">      arr[index].<span class="property">name</span> = <span class="string">`<span class="subst">$&#123;parentPath.replace(/\//g, <span class="string">&#x27;_&#x27;</span>).substring(<span class="number">1</span>)&#125;</span>_<span class="subst">$&#123;item.interfaceItemId&#125;</span>`</span></span><br><span class="line">      <span class="keyword">delete</span> arr[index].<span class="property">children</span></span><br><span class="line">      <span class="keyword">if</span> (item.<span class="property">openMode</span> === <span class="string">&#x27;1&#x27;</span> || item.<span class="property">openMode</span> === <span class="string">&#x27;2&#x27;</span>) &#123;</span><br><span class="line">        arr[index].<span class="property">path</span> = <span class="string">`<span class="subst">$&#123;parentPath&#125;</span>/<span class="subst">$&#123;item.interfaceItemId&#125;</span>`</span></span><br><span class="line">        arr[index].<span class="property">component</span> = <span class="title class_">InnerLink</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        arr[index].<span class="property">path</span> = item.<span class="property">path</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 菜单类型的：</span></span><br><span class="line">      <span class="keyword">if</span> (item.<span class="property">component</span> &amp;&amp; <span class="keyword">typeof</span> item.<span class="property">component</span> === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">// 配置的组件路径不存在时，会赋值为undefined</span></span><br><span class="line">        arr[index].<span class="property">component</span> = modules[<span class="string">&#x27;/src/views&#x27;</span> + item.<span class="property">component</span> + <span class="string">&#x27;.vue&#x27;</span>]</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (item.<span class="property">children</span> &amp;&amp; item.<span class="property">children</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> list = item.<span class="property">children</span></span><br><span class="line">        arr[index].<span class="property">redirect</span> = <span class="string">`<span class="subst">$&#123;parentPath&#125;</span>/<span class="subst">$&#123;item.path&#125;</span>/<span class="subst">$&#123;list[<span class="number">0</span>].path&#125;</span>`</span></span><br><span class="line">        <span class="title function_">generateRoute</span>(item.<span class="property">children</span>, <span class="string">`<span class="subst">$&#123;parentPath&#125;</span>/<span class="subst">$&#123;item.path&#125;</span>`</span>, parentStatus &amp;&amp; item.<span class="property">status</span>, arr[index].<span class="property">children</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">delete</span> arr[index].<span class="property">children</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>如果想把路由变成本地，直接更改 <a target="_blank" rel="noopener" href="http://10.11.3.132:8082/platform/ebs_vue3_template/blob/master/src/api/modules/common/login.ts">src&#x2F;api&#x2F;modules&#x2F;common&#x2F;login.ts &#x3D;&gt; getAutInfoApi</a> 方法</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> authInfo <span class="keyword">from</span> <span class="string">&quot;@/assets/json/auth-info.json&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取权限信息</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getAuthUserApi</span> = (<span class="params"><span class="attr">params</span>: <span class="title class_">Login</span>.<span class="title class_">AuthUser</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">//return http.post(PORT_SYSTEM + `/client/user-auth-info`, params)</span></span><br><span class="line">  <span class="comment">// 如果想让菜单变为本地数据，注释上一行代码，并引入本地 authMenuList.json 数据</span></span><br><span class="line">  <span class="keyword">return</span> authInfo</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="生成的路由结果"><a href="#生成的路由结果" class="headerlink" title="生成的路由结果"></a>生成的路由结果</h3><h4 id="一级路由"><a href="#一级路由" class="headerlink" title="一级路由"></a>一级路由</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> home = &#123;</span><br><span class="line">    <span class="string">&quot;path&quot;</span>: <span class="string">&quot;/admin_portal/home&quot;</span>,</span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Home&quot;</span>,</span><br><span class="line">    <span class="string">&quot;meta&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;icon&quot;</span>: <span class="string">&quot;anli&quot;</span>,</span><br><span class="line">        <span class="string">&quot;parentIcon&quot;</span>: <span class="string">&quot;anli&quot;</span>,</span><br><span class="line">        <span class="string">&quot;title&quot;</span>: <span class="string">&quot;首页&quot;</span>,</span><br><span class="line">        <span class="string">&quot;hide&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;alwaysShow&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;isKeepAlive&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;isFull&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;isAffix&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;isInner&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;isOut&quot;</span>: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="二级路由"><a href="#二级路由" class="headerlink" title="二级路由"></a>二级路由</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> application = &#123;</span><br><span class="line">    <span class="string">&quot;path&quot;</span>: <span class="string">&quot;/admin_portal/applyfolder&quot;</span>,</span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Applyfolder&quot;</span>,</span><br><span class="line">    <span class="string">&quot;redirect&quot;</span>: <span class="string">&quot;/admin_portal/applyfolder/application&quot;</span></span><br><span class="line">    <span class="string">&quot;meta&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;icon&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;parentIcon&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;title&quot;</span>: <span class="string">&quot;应用管理&quot;</span>,</span><br><span class="line">        <span class="string">&quot;hide&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;alwaysShow&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;isKeepAlive&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;isFull&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;isAffix&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;isInner&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;isOut&quot;</span>: <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;children&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;path&quot;</span>: <span class="string">&quot;/admin_portal/applyfolder/application&quot;</span>,</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Application&quot;</span>,</span><br><span class="line">            <span class="string">&quot;meta&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;icon&quot;</span>: <span class="string">&quot;yingyongzhuce&quot;</span>,</span><br><span class="line">                <span class="string">&quot;parentIcon&quot;</span>: <span class="string">&quot;yingyongzhuce&quot;</span>,</span><br><span class="line">                <span class="string">&quot;title&quot;</span>: <span class="string">&quot;应用管理&quot;</span>,</span><br><span class="line">                <span class="string">&quot;hide&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="string">&quot;alwaysShow&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="string">&quot;isKeepAlive&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="string">&quot;isFull&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="string">&quot;isAffix&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="string">&quot;isInner&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="string">&quot;isOut&quot;</span>: <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;path&quot;</span>: <span class="string">&quot;/admin_portal/applyfolder/application/permission&quot;</span>,</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Application/permission&quot;</span>,</span><br><span class="line">            <span class="string">&quot;meta&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;icon&quot;</span>: <span class="string">&quot;zhuceyouli&quot;</span>,</span><br><span class="line">                <span class="string">&quot;parentIcon&quot;</span>: <span class="string">&quot;zhuceyouli&quot;</span>,</span><br><span class="line">                <span class="string">&quot;title&quot;</span>: <span class="string">&quot;权限项管理&quot;</span>,</span><br><span class="line">                <span class="string">&quot;hide&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="string">&quot;alwaysShow&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="string">&quot;isKeepAlive&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="string">&quot;isFull&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="string">&quot;isAffix&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="string">&quot;isInner&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="string">&quot;isOut&quot;</span>: <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="菜单"><a href="#菜单" class="headerlink" title="菜单"></a>菜单</h3><ul>
<li>根据后台返回的菜单数据转换而来</li>
<li>所以只要更改后台数据菜单会随之改变，整个项目只需维护一套数据即可</li>
</ul>
<p>:::info</p>
<ul>
<li>菜单展示时需要过滤掉 hide 属性为 true 的路由</li>
</ul>
<p>:::</p>
<ul>
<li>utils&#x2F;router-helper.ts：</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> 使用递归过滤出需要渲染在左侧菜单的列表 (需剔除 hide == true 的菜单)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Array</span>&#125; menuList 菜单列表</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span> &#123;<span class="type">Array</span>&#125;</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">getShowMenuList</span>(<span class="params"><span class="attr">menuList</span>: <span class="title class_">AppRouteRecordRaw</span>[]</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">newMenuList</span>: <span class="title class_">AppRouteRecordRaw</span>[] = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(menuList))</span><br><span class="line">  <span class="keyword">return</span> newMenuList.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    item.<span class="property">children</span>?.<span class="property">length</span> &amp;&amp; (item.<span class="property">children</span> = <span class="title function_">getShowMenuList</span>(item.<span class="property">children</span>))</span><br><span class="line">    <span class="keyword">return</span> !item.<span class="property">meta</span>?.<span class="property">hide</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h2><h3 id="权限的配置"><a href="#权限的配置" class="headerlink" title="权限的配置"></a>权限的配置</h3><p>在<strong>应用开发平台</strong>进行菜单配置，按钮配置，然后在权限管理处进行为角色配置权限菜单和权限按钮</p>
<h4 id="权限项配置"><a href="#权限项配置" class="headerlink" title="权限项配置"></a>权限项配置</h4><p>主要是为功能按钮配置权限标识，以便后续进行权限配置，前端开发者也应与后端开发者协商好对应的权限标识在此配置，以便后续权限按钮的使用。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733280709573-6945067d-1b60-415c-95ab-5726cfc04033.png"></p>
<h4 id="菜单配置"><a href="#菜单配置" class="headerlink" title="菜单配置"></a>菜单配置</h4><p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733195937673-5357cf17-863f-4a3c-a832-26ff81db5c6e.png"></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733196439856-24345508-b540-425a-aff8-d4990ffb1657.png"></p>
<p>菜单的配置分为3类：目录，菜单，按钮，分别需要配置的属性不尽相同</p>
<p>目录：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733214319388-f1d97011-971e-4489-82ee-79ae7f3135b0.png"></p>
<p>菜单：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733214332309-3d630dfd-5403-473f-bac2-50821e24d4e3.png"></p>
<p>按钮配置：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38559051/1733214297551-c836348c-a40d-419f-a4ae-0c1f4b905038.png"></p>
<p>具体配置规则见下方<strong>权限的使用</strong>字段对照关系处</p>
<h3 id="权限的使用"><a href="#权限的使用" class="headerlink" title="权限的使用"></a>权限的使用</h3><h4 id="菜单权限的使用"><a href="#菜单权限的使用" class="headerlink" title="菜单权限的使用"></a>菜单权限的使用</h4><p>在平台处配置的相关属性通过请求接口（ <a target="_blank" rel="noopener" href="http://10.11.3.132:8082/platform/ebs_vue3_template/blob/master/src/api/modules/common/login.ts">src&#x2F;api&#x2F;modules&#x2F;common&#x2F;login.ts &#x3D;&gt; getAuthUserApi</a> 方法）获取当前用户的权限菜单，然后通过utils&#x2F;router-helper.ts中的generateRoute方法对原始后端数据进行处理返回RouteRecordRaw接口对应结构的路由数据，具体字段对照关系如下（也是**<font style="color:#FFFFFF;background-color:#DF2A3F;">目录菜单按钮的配置规则</font>**）：</p>
<ol>
<li><strong>菜单名称</strong>(name):  对应路由的meta中的title字段</li>
<li><strong>页面打开方式</strong>(openMode):</li>
</ol>
<ul>
<li>值为1是<strong>内嵌</strong> 对应路由的meta.isInner为true,</li>
<li>值为2是<strong>全屏</strong> 对应路由的meta.isFull为true,</li>
<li>值为3是<strong>新页签</strong> 对应路由的meta.isOut为true,</li>
</ul>
<p>:::warning</p>
<ul>
<li>当path以”http:&#x2F;&#x2F;“或”https:&#x2F;&#x2F;“开头时认为是外链；</li>
<li>菜单打开方式：内嵌，全屏，新页签，三个方式是互斥的。</li>
<li>新页签方式在path配置的是外链时起作用，否则当作内嵌菜单处理；内嵌，全屏无论path是普通菜单路径还是外链都起作用；</li>
</ul>
<p>:::</p>
<ol start="3">
<li><strong>页面路由</strong>(path)：相当于是当前节点的标识，当配置的不是外链时对应的路由path是由<strong>父节点路由path</strong>+<strong>‘&#x2F;‘</strong>+<strong>当前节点的path</strong>组成，所以实质上是用来作为对应路由的path的末尾的一个拼接字符串。</li>
</ol>
<p>:::info<br>在配置该属性注意是一串英文字符串或数字或英文字符串和数字组合，前面不能带’&#x2F;‘，例如：myFirstMenu</p>
<p>:::</p>
<ol start="4">
<li><strong>对应的vue组件(component)</strong>:组件相对路径，用于配置路由的视图文件路径</li>
</ol>
<p>:::info<br>在配置该属性时：例如组件是 src&#x2F;views&#x2F;demo&#x2F;DemoViewList.vue，则该属性只需输入 &#x2F;demo&#x2F;DemoViewList</p>
<p>:::</p>
<ol start="5">
<li><strong>关联权限：</strong>为权限配置做准备</li>
<li>**图标(icon)**：对应路由的meta.icon用于渲染菜单时渲染配置的菜单图标</li>
<li><strong>启用路由缓存(keepAlive)</strong>:只有菜单类型有该属性，对应路由的meta.isKeepAlive</li>
<li>**隐藏(hide)**：只有菜单类型有该属性，对应路由的meta.hide</li>
</ol>
<p>在页面中未展示出的属性还有：</p>
<p>路由的name用来标识路由的唯一性的这里用后端返回来的interfaceItemId表示</p>
<p>路由的meta.url：如果path配置的是外链，则会为路由的meta元信息中配置url属性用来存该外链值，用于内嵌方式和全屏方式路由跳转时，iframe获取当前路由的外链地址；打开新页签方式时，点击菜单以链接的方式跳转而不是路由跳转。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 处理树结构的原始数据为路由需要的</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">generateRoute</span>(<span class="params"><span class="attr">data</span>: <span class="built_in">any</span>[], <span class="attr">parentPath</span>: <span class="built_in">string</span>, <span class="attr">parentStatus</span>: <span class="built_in">boolean</span>, <span class="attr">arr</span>: <span class="built_in">any</span>[]</span>) &#123;</span><br><span class="line">  data.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (item.<span class="property">style</span> === <span class="number">3</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    arr.<span class="title function_">push</span>(&#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">`<span class="subst">$&#123;parentPath&#125;</span>/<span class="subst">$&#123;item.path&#125;</span>`</span>,</span><br><span class="line">      <span class="attr">name</span>: <span class="string">`<span class="subst">$&#123;item.interfaceItemId&#125;</span>`</span>,</span><br><span class="line">      <span class="attr">meta</span>: &#123;</span><br><span class="line">        <span class="attr">icon</span>: item.<span class="property">icon</span>,</span><br><span class="line">        <span class="attr">title</span>: item.<span class="property">name</span>,</span><br><span class="line">        <span class="attr">hide</span>: item.<span class="property">hide</span>,</span><br><span class="line">        <span class="attr">isKeepAlive</span>: item.<span class="property">keepAlive</span>,</span><br><span class="line">        <span class="attr">isAffix</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">isFull</span>: item.<span class="property">openMode</span> === <span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">        <span class="attr">isInner</span>: item.<span class="property">openMode</span> === <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        <span class="attr">isOut</span>: item.<span class="property">openMode</span> === <span class="string">&#x27;3&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      <span class="attr">children</span>: []</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">isHttp</span>(item.<span class="property">path</span>)) &#123;</span><br><span class="line">      arr[index].<span class="property">meta</span>.<span class="property">url</span> = item.<span class="property">path</span></span><br><span class="line">      <span class="comment">// 外链的菜单：无组件，无子菜单</span></span><br><span class="line">      arr[index].<span class="property">component</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">      arr[index].<span class="property">name</span> = <span class="string">`<span class="subst">$&#123;parentPath.replace(/\//g, <span class="string">&#x27;_&#x27;</span>).substring(<span class="number">1</span>)&#125;</span>_<span class="subst">$&#123;item.interfaceItemId&#125;</span>`</span></span><br><span class="line">      <span class="keyword">delete</span> arr[index].<span class="property">children</span></span><br><span class="line">      <span class="keyword">if</span> (item.<span class="property">openMode</span> === <span class="string">&#x27;1&#x27;</span> || item.<span class="property">openMode</span> === <span class="string">&#x27;2&#x27;</span>) &#123;</span><br><span class="line">        arr[index].<span class="property">path</span> = <span class="string">`<span class="subst">$&#123;parentPath&#125;</span>/<span class="subst">$&#123;item.interfaceItemId&#125;</span>`</span></span><br><span class="line">        arr[index].<span class="property">component</span> = <span class="title class_">InnerLink</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        arr[index].<span class="property">path</span> = item.<span class="property">path</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 菜单类型的：</span></span><br><span class="line">      <span class="keyword">if</span> (item.<span class="property">component</span> &amp;&amp; <span class="keyword">typeof</span> item.<span class="property">component</span> === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">// 配置的组件路径不存在时，会赋值为undefined</span></span><br><span class="line">        arr[index].<span class="property">component</span> = modules[<span class="string">&#x27;/src/views&#x27;</span> + item.<span class="property">component</span> + <span class="string">&#x27;.vue&#x27;</span>]</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (item.<span class="property">children</span> &amp;&amp; item.<span class="property">children</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> list = item.<span class="property">children</span></span><br><span class="line">        arr[index].<span class="property">redirect</span> = <span class="string">`<span class="subst">$&#123;parentPath&#125;</span>/<span class="subst">$&#123;item.path&#125;</span>/<span class="subst">$&#123;list[<span class="number">0</span>].path&#125;</span>`</span></span><br><span class="line">        <span class="title function_">generateRoute</span>(item.<span class="property">children</span>, <span class="string">`<span class="subst">$&#123;parentPath&#125;</span>/<span class="subst">$&#123;item.path&#125;</span>`</span>, parentStatus &amp;&amp; item.<span class="property">status</span>, arr[index].<span class="property">children</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">delete</span> arr[index].<span class="property">children</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="按钮权限的使用"><a href="#按钮权限的使用" class="headerlink" title="按钮权限的使用"></a>按钮权限的使用</h4><ol>
<li>通过请求接口（ <a target="_blank" rel="noopener" href="http://10.11.3.132:8082/platform/ebs_vue3_template/blob/master/src/api/modules/common/login.ts">src&#x2F;api&#x2F;modules&#x2F;common&#x2F;login.ts &#x3D;&gt; getAutInfoApi</a> 方法）当前用户的权限按钮，并存在stores&#x2F;modules&#x2F;auth.ts中定义的authButtonList，</li>
<li>通过在src&#x2F;directives&#x2F;modules&#x2F;auth.ts中定义的v-auth指令确定是否展示页面中的功能按钮；</li>
</ol>
<p>:::info<br>具体使用只需要在vue文件中使用该指令，并为该指令传入该按钮的权限标识即可：</p>
<p>:::</p>
<p>例如：用户管理模块，对”新建“按钮进行权限设置,其中‘user:staff:save’为用户新增修改的权限标识</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-auth</span>=<span class="string">&quot;&#x27;user:staff:save&#x27;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="网络请求"><a href="#网络请求" class="headerlink" title="网络请求"></a>网络请求</h2><ul>
<li>项目封装了<code>Axios</code>来做网络请求，包括请求 Loading、错误处理、取消请求等功能</li>
<li>可以按照自己项目需求来进行封装</li>
</ul>
<h3 id="目录结构-2"><a href="#目录结构-2" class="headerlink" title="目录结构"></a>目录结构</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">├─ api                               网络请求文件夹                                 </span><br><span class="line">│  ├─ config                         请求配置信息   </span><br><span class="line">│  │  ├─ http-enum.ts                请求相关的枚举类型 </span><br><span class="line">│  │  └─ service-port.ts             后端微服务模块前缀  </span><br><span class="line">│  ├─ helper                         请求辅助工具  </span><br><span class="line">│  │  ├─ axios-cancel.ts             拦截重复请求 </span><br><span class="line">│  │  ├─ check-status.ts             对各个http错误码做的相关的反馈  </span><br><span class="line">│  │  └─ service-loading.ts          全局请求loading配置</span><br><span class="line">│  ├─ interface                      api接口的请求参数和返回数据的类型定义文件夹  </span><br><span class="line">│  │  └─ index.ts                      </span><br><span class="line">│  ├─ modules                        请求函数模块，强烈建议根据不同的模块创建不同的请求文件  </span><br><span class="line">│  │  └─ common                      公共请求接口  </span><br><span class="line">│  │     ├─ application.ts           应用列表  </span><br><span class="line">│  │     ├─ dict.ts                  数据字典  </span><br><span class="line">│  │     ├─ language-item.ts         语言词条  </span><br><span class="line">│  │     ├─ language.ts              语言列表  </span><br><span class="line">│  │     ├─ login.ts                 登录  </span><br><span class="line">│  │     ├─ message-list.ts          消息列表  </span><br><span class="line">│  │     └─ user.ts                  用户  </span><br><span class="line">   └─ index.ts                       封装后的axios：请求拦截，响应拦截  </span><br></pre></td></tr></table></figure>



<h3 id="配置（重点）"><a href="#配置（重点）" class="headerlink" title="配置（重点）"></a>配置（重点）</h3><blockquote>
<p>不出意外的话，你应该要修改请求的<code>baseURL</code>。</p>
</blockquote>
<p>在<code>index.ts</code>文件的 28 行你可以看到一个默认的基础配置</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// 默认地址请求地址，可在public/config.js 文件中修改各个环境下的请求地址</span></span><br><span class="line">  <span class="attr">baseURL</span>: <span class="variable language_">window</span>.<span class="property">serviceConfig</span>[<span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">env</span>.<span class="property">VITE_USER_NODE_ENV</span>].<span class="property">VITE_API_URL</span> <span class="keyword">as</span> <span class="built_in">string</span>,</span><br><span class="line">  <span class="comment">// 设置超时时间</span></span><br><span class="line">  <span class="attr">timeout</span>: <span class="title class_">ResultEnum</span>.<span class="property">TIMEOUT</span> <span class="keyword">as</span> <span class="built_in">number</span>,</span><br><span class="line">  <span class="comment">// 跨域时候允许携带凭证</span></span><br><span class="line">  <span class="attr">withCredentials</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>你可以在此处修改或添加 axios 的基本配置。</p>
<p>:::info<br>重点：<code>baseURL</code>是通过环境变量加载的，可以通过项目根目录下的<code>public/config.js</code>文件中修改不同环境下的<code>VITE_API_URL</code>，而不是在此处直接修改。</p>
<p>:::</p>
<h3 id="请求拦截"><a href="#请求拦截" class="headerlink" title="请求拦截"></a>请求拦截</h3><p>代码位置：<code>index.ts 58:108</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@description</span> 请求拦截器</span></span><br><span class="line"><span class="comment">     * 客户端发送请求 -&gt; [请求拦截器] -&gt; 服务器</span></span><br><span class="line"><span class="comment">     * token校验(JWT) : 接受服务器返回的 token,存储到 vuex/pinia/本地储存当中</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">service</span>.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">      <span class="function">(<span class="params"><span class="attr">config</span>: <span class="title class_">CustomAxiosRequestConfig</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> userStore = <span class="title function_">useUserStore</span>()</span><br><span class="line">        <span class="comment">// 重复请求不需要取消，在 api 服务中通过指定的第三个参数: &#123; cancel: false &#125; 来控制</span></span><br><span class="line">        config.<span class="property">cancel</span> ??= <span class="literal">true</span></span><br><span class="line">        config.<span class="property">cancel</span> &amp;&amp; axiosCanceler.<span class="title function_">addPending</span>(config)</span><br><span class="line">        <span class="comment">// 当前请求不需要显示 loading，在 api 服务中通过指定的第三个参数: &#123; loading: false &#125; 来控制</span></span><br><span class="line">        config.<span class="property">loading</span> ??= <span class="literal">true</span></span><br><span class="line">        config.<span class="property">loading</span> &amp;&amp; <span class="title function_">showFullScreenLoading</span>()</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 是否需要设置 token</span></span><br><span class="line">        <span class="keyword">let</span> isToken = (config!.<span class="property">headers</span> || &#123;&#125;).<span class="property">isToken</span> === <span class="literal">false</span></span><br><span class="line">        whiteList.<span class="title function_">some</span>(<span class="function">(<span class="params">v</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (config.<span class="property">url</span> &amp;&amp; config.<span class="property">url</span>.<span class="title function_">indexOf</span>(v) &gt; -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> (isToken = <span class="literal">true</span>)</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> (isToken = <span class="literal">false</span>)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">if</span> (config.<span class="property">headers</span> &amp;&amp; <span class="keyword">typeof</span> config.<span class="property">headers</span>.<span class="property">set</span> === <span class="string">&#x27;function&#x27;</span> &amp;&amp; !isToken) &#123;</span><br><span class="line">          config.<span class="property">headers</span>.<span class="title function_">set</span>(<span class="string">&#x27;x-access-token&#x27;</span>, userStore.<span class="property">token</span>)</span><br><span class="line">          config.<span class="property">headers</span>.<span class="title function_">set</span>(<span class="string">&#x27;Authorization&#x27;</span>, <span class="string">`Bearer <span class="subst">$&#123;userStore.token&#125;</span>`</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 请求头携带Application:应用编码</span></span><br><span class="line">        <span class="keyword">const</span> appCode = <span class="title function_">useAuthStore</span>().<span class="property">appCode</span></span><br><span class="line">        config.<span class="property">headers</span>.<span class="title function_">set</span>(<span class="string">&#x27;Application&#x27;</span>, appCode)</span><br><span class="line">        <span class="comment">// 请求头携带Lang：国际化语言种类</span></span><br><span class="line">        config.<span class="property">headers</span>.<span class="title function_">set</span>(<span class="string">&#x27;Lang&#x27;</span>, <span class="title function_">useGlobalStore</span>().<span class="property">language</span> <span class="keyword">as</span> <span class="built_in">unknown</span> <span class="keyword">as</span> <span class="built_in">string</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 请求头携带Ignore-Translate：是否需要翻译</span></span><br><span class="line">        <span class="keyword">const</span> configUrl = config.<span class="property">url</span> <span class="keyword">as</span> <span class="built_in">unknown</span> <span class="keyword">as</span> <span class="built_in">string</span></span><br><span class="line">        <span class="keyword">const</span> isIgnoreTranslate = <span class="title class_">IgnoreTranslateList</span>.<span class="title function_">some</span>(<span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">string</span></span>) =&gt;</span> configUrl.<span class="title function_">startsWith</span>(item))</span><br><span class="line">        <span class="keyword">if</span> (!isIgnoreTranslate) &#123;</span><br><span class="line">          config.<span class="property">headers</span>.<span class="title function_">set</span>(<span class="string">&#x27;Ignore-Translate&#x27;</span>, <span class="literal">false</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          config.<span class="property">headers</span>.<span class="title function_">set</span>(<span class="string">&#x27;Ignore-Translate&#x27;</span>, <span class="literal">true</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (config.<span class="property">method</span> === <span class="string">&#x27;get&#x27;</span>) &#123;</span><br><span class="line">          config.<span class="property">params</span> = &#123;</span><br><span class="line">            <span class="attr">_t</span>: <span class="title class_">Date</span>.<span class="title function_">parse</span>(<span class="title class_">String</span>(<span class="keyword">new</span> <span class="title class_">Date</span>())) / <span class="number">1000</span>,</span><br><span class="line">            ...config.<span class="property">params</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> config</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="function">(<span class="params"><span class="attr">error</span>: <span class="title class_">AxiosError</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;requestError&#x27;</span>, error)</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<ul>
<li>在请求之前检查当前请求需不需要全局的 loading，</li>
<li>在请求之前检查当前请求需不需要携带token,若需要则在 header 请求头中携带<code>x-access-token</code>和<code>Authorization</code>分别用于云程工作流请求接口和平台请求接口。token 名称不一定是<code>x-access-token</code>或<code>Authorization</code>，具体情况根据自己项目配置</li>
<li>任何接口请求头header都需要携带<code>Application</code>、<code>Lang</code>、<code>Ignore-Translate</code>。</li>
</ul>
<h3 id="响应拦截"><a href="#响应拦截" class="headerlink" title="响应拦截"></a>响应拦截</h3><p>代码位置：<code>index.ts 114:166</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">service</span>.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params"><span class="attr">response</span>: <span class="title class_">AxiosResponse</span> &amp; &#123; config: CustomAxiosRequestConfig &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; data, config &#125; = response</span><br><span class="line">    <span class="keyword">if</span> (!data) &#123;</span><br><span class="line">      <span class="comment">// 返回“[HTTP]请求没有返回值”;</span></span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> userStore = <span class="title function_">useUserStore</span>()</span><br><span class="line">    axiosCanceler.<span class="title function_">removePending</span>(config)</span><br><span class="line">    config.<span class="property">loading</span> &amp;&amp; <span class="title function_">tryHideFullScreenLoading</span>()</span><br><span class="line">    <span class="comment">// 登录失效</span></span><br><span class="line">    <span class="keyword">if</span> (data.<span class="property">code</span> === <span class="title class_">ResultEnum</span>.<span class="property">OVERDUE</span>) &#123;</span><br><span class="line">      <span class="comment">// 删除token,删除用户缓存</span></span><br><span class="line">      userStore.<span class="title function_">loginOut</span>()</span><br><span class="line">      <span class="comment">// 刷新页面重新走一次路由让它过router.beforeEach的校验</span></span><br><span class="line">      <span class="keyword">const</span> href = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span></span><br><span class="line">      <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span> = href</span><br><span class="line">      <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(data.<span class="property">message</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(data)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 全局错误信息拦截（防止下载文件的时候返回数据流，没有 code 直接报错）</span></span><br><span class="line">    <span class="keyword">if</span> (data.<span class="property">code</span> &amp;&amp; data.<span class="property">code</span> !== <span class="title class_">ResultEnum</span>.<span class="property">SUCCESS</span>) &#123;</span><br><span class="line">      config.<span class="property">errMsg</span> ??= <span class="literal">true</span></span><br><span class="line">      config.<span class="property">errMsg</span> &amp;&amp; <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(data.<span class="property">message</span>)</span><br><span class="line">  </span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(data)</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 兼容云程的结果是result字段接收的，转成我们通用的data字段：</span></span><br><span class="line">    <span class="title function_">renameKey</span>(data, <span class="string">&#x27;result&#x27;</span>, <span class="string">&#x27;data&#x27;</span>)</span><br><span class="line">    <span class="comment">// 成功请求（在页面上除非特殊情况，否则不用处理失败逻辑）</span></span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">async</span> (<span class="attr">error</span>: <span class="title class_">AxiosError</span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;responseError&#x27;</span>, error)</span><br><span class="line">    <span class="keyword">const</span> &#123; response &#125; = error</span><br><span class="line">    <span class="title function_">tryHideFullScreenLoading</span>()</span><br><span class="line">    <span class="comment">// 请求超时 &amp;&amp; 网络错误单独判断，没有 response</span></span><br><span class="line">    <span class="keyword">if</span> (error.<span class="property">message</span>.<span class="title function_">indexOf</span>(<span class="string">&#x27;timeout&#x27;</span>) !== -<span class="number">1</span>) <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="title function_">t</span>(<span class="string">&#x27;error.408&#x27;</span>))</span><br><span class="line">    <span class="keyword">if</span> (error.<span class="property">message</span>.<span class="title function_">indexOf</span>(<span class="string">&#x27;Network Error&#x27;</span>) !== -<span class="number">1</span>) <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="title function_">t</span>(<span class="string">&#x27;error.networkError&#x27;</span>))</span><br><span class="line">    <span class="comment">// 根据服务器响应的错误状态码，做不同的处理</span></span><br><span class="line">    <span class="keyword">if</span> (response) <span class="title function_">checkStatus</span>(response.<span class="property">status</span>)</span><br><span class="line">    <span class="comment">// 服务器结果都没有返回(可能服务器错误可能客户端断网)，断网处理:可以跳转到断网页面</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">window</span>.<span class="property">navigator</span>.<span class="property">onLine</span> &amp;&amp; router.<span class="property">currentRoute</span>.<span class="property">value</span>.<span class="property">path</span> !== <span class="string">&#x27;/500&#x27;</span>)</span><br><span class="line">      router.<span class="title function_">replace</span>(&#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/500&#x27;</span>,</span><br><span class="line">        <span class="attr">query</span>: &#123;</span><br><span class="line">          <span class="attr">redirect</span>: router.<span class="property">currentRoute</span>.<span class="property">value</span>.<span class="property">fullPath</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<ul>
<li>在获取到接口的响应后，不管成功或失败，先尝试关闭全局 loading<code>tryHideFullScreenLoading</code>，然后根据成功或失败做不同的处理。</li>
<li>当业务上的code与定义的成功的编码<code> ResultEnum.SUCCESS</code>不相等时，可根据请求时设置的config的errMsg确定是否直接在此处显示后端返回的报错信息</li>
</ul>
<p>:::info<br>默认都是直接显示报错信息，若需要不在此处处理错误信息显示可在接口请求时设置config.errMsg为false</p>
<p>:::</p>
<p>:::info<br>这里的请求成功指的是<strong>网络请求</strong>，不是<strong>业务逻辑</strong>成功。</p>
<p>:::</p>
<ul>
<li>请求成功后会判断接口返回的响应数据里的 code。根据不同的 code 做不同的处理。<br>这里要注意<code>ResultEnum</code>中定义的 code 是不是跟你业务上的 code 一样。</li>
<li>请求失败也是一样，只不过这里的失败是指网络失败。网络请求失败后服务器返回的状态码都是有迹可循的，只需要根据不同的状态码，做不同的处理。这就是<code>checkStatus</code>的工作。</li>
</ul>
<h3 id="示例（重点）"><a href="#示例（重点）" class="headerlink" title="示例（重点）"></a>示例（重点）</h3><blockquote>
<p>现在要写一个登录接口</p>
</blockquote>
<ol>
<li>api-&gt;modules 中新建一个<code>login.ts</code>文件。</li>
<li>在<code>login.ts</code>中引入封装后的 axios。</li>
<li>在<code>login.ts</code>中引入相应的后端服务前缀</li>
<li>编写请求函数。</li>
<li>可选的，给请求函数的入参和返回值加上 TS 类型限制。</li>
</ol>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="variable constant_">PORT_SYSTEM</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/config/service-port&#x27;</span></span><br><span class="line"><span class="keyword">import</span> http <span class="keyword">from</span> <span class="string">&#x27;@/api&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@name</span> 登录模块</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// 登录模块</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">namespace</span> <span class="title class_">Login</span> &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">interface</span> <span class="title class_">ReqLoginForm</span> &#123;</span><br><span class="line">    <span class="attr">userName</span>: <span class="built_in">string</span></span><br><span class="line">    <span class="attr">password</span>: <span class="built_in">string</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">interface</span> <span class="title class_">ResLogin</span> &#123;</span><br><span class="line">    <span class="attr">token</span>: <span class="built_in">string</span></span><br><span class="line">    <span class="attr">userInfo</span>: &#123;</span><br><span class="line">      <span class="attr">staffId</span>: <span class="built_in">number</span></span><br><span class="line">      [<span class="attr">key</span>: <span class="built_in">string</span>]: <span class="built_in">any</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 用户登录</span></span><br><span class="line"><span class="comment">// 松散的类型限制</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">loginApi</span> = (<span class="params"><span class="attr">params</span>: <span class="built_in">any</span></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> http.<span class="title function_">post</span>(<span class="variable constant_">PORT_SYSTEM</span> + <span class="string">`/user/auth/login`</span>, params,&#123; <span class="attr">loading</span>: <span class="literal">false</span> &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 严格的类型限制</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">typeloginApi</span> = (<span class="params"><span class="attr">params</span>: <span class="title class_">Login</span>.<span class="title class_">ReqLoginForm</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> http.<span class="property">post</span>&lt;<span class="title class_">Login</span>.<span class="property">ResLogin</span>&gt;(<span class="variable constant_">PORT_SYSTEM</span> + <span class="string">`/user/auth/login`</span>, params, &#123; <span class="attr">loading</span>: <span class="literal">false</span> &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>如何使用 api 函数呢，很简单。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; loginApi &#125; <span class="keyword">from</span> <span class="string">&quot;@/api/modules/login&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 模拟表单数据</span></span><br><span class="line"><span class="keyword">const</span> form = &#123;</span><br><span class="line">    <span class="attr">account</span>: <span class="string">&quot;admin&quot;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&quot;123456&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">login</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 如果请求成功，那么就会执行下面的代码。基本上不需要错误处理，错误情况都被拦截了</span></span><br><span class="line">    <span class="comment">// 除非你有需要，你可以使用`.catch`</span></span><br><span class="line">    <span class="comment">// const data = await loginApi(form).catch((err)=&gt;&#123;</span></span><br><span class="line">    <span class="comment">// 错误处理</span></span><br><span class="line">    <span class="comment">// &#125;)</span></span><br><span class="line">    <span class="keyword">const</span> data = <span class="keyword">await</span> <span class="title function_">loginApi</span>(form);</span><br><span class="line">    <span class="comment">// 保存token，跳转页面等操作</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Vue/">Vue</a></div><div class="post_share"><div class="social-share" data-image="/img/avatar.jpg" data-sites="wechat,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2025/02/05/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/" title="前端开发规范"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">前端开发规范</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/08/28/Vue%E4%BD%BF%E7%94%A8%E4%B8%8D%E6%94%AF%E6%8C%81%E7%9A%84%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B/" title="Vue使用不支持的文件类型"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-28</div><div class="title">Vue使用不支持的文件类型</div></div></a></div><div><a href="/2023/06/20/Vue%E9%9B%86%E6%88%90Cesium/" title="Vue集成Cesium"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-20</div><div class="title">Vue集成Cesium</div></div></a></div><div><a href="/2025/01/08/%E5%BE%AE%E5%89%8D%E7%AB%AF/" title="微前端"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-08</div><div class="title">微前端</div></div></a></div><div><a href="/2025/02/05/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/" title="前端开发规范"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-05</div><div class="title">前端开发规范</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/404.gif'" alt="avatar"/></div><div class="author-info__name">Funny Boy</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">23</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/752841728/752841728.github.io"><i class="fab fa-github"></i><span>GitHub</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86-%E6%A1%86%E6%9E%B6%E4%BB%A3%E7%A0%81%E8%8E%B7%E5%8F%96"><span class="toc-number">1.</span> <span class="toc-text">第一部分:框架代码获取</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9C%80%E8%A6%81%E6%8E%8C%E6%8F%A1%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">1.1.2.</span> <span class="toc-text">需要掌握的基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0"><span class="toc-number">1.1.3.</span> <span class="toc-text">关于版本更新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E6%94%AF%E6%8C%81"><span class="toc-number">1.1.4.</span> <span class="toc-text">浏览器支持</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-number">1.2.</span> <span class="toc-text">快速上手（重点）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-number">1.2.1.</span> <span class="toc-text">环境准备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7%E9%85%8D%E7%BD%AE"><span class="toc-number">1.2.2.</span> <span class="toc-text">工具配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#vscode-extensions-json"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">.vscode &gt; extensions.json</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vscode-settings-json"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">.vscode &gt; settings.json</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%8B%89%E5%8F%96"><span class="toc-number">1.2.3.</span> <span class="toc-text">代码拉取</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8E-GitLab-%E6%8B%89%E5%8F%96%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">从 GitLab 拉取代码：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.2.4.</span> <span class="toc-text">安装使用步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%EF%BC%9A"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">安装依赖：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E9%A1%B9%E7%9B%AE%EF%BC%9A"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">运行项目：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E5%8C%85%E9%A1%B9%E7%9B%AE%EF%BC%9A"><span class="toc-number">1.2.4.3.</span> <span class="toc-text">打包项目：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%A1%E9%AA%8C%E3%80%81%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="toc-number">1.2.4.4.</span> <span class="toc-text">校验、格式化代码：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="toc-number">1.2.4.5.</span> <span class="toc-text">提交代码：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#npm-script-%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.2.5.</span> <span class="toc-text">npm script 详解</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">1.3.</span> <span class="toc-text">目录结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#EbsVue3Template%E7%9B%AE%E5%BD%95%E8%AF%B4%E6%98%8E-%F0%9F%93%9A"><span class="toc-number">1.3.1.</span> <span class="toc-text">EbsVue3Template目录说明 📚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#src%E7%9B%AE%E5%BD%95%E8%AF%B4%E6%98%8E"><span class="toc-number">1.3.2.</span> <span class="toc-text">src目录说明</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86-%E6%A1%86%E6%9E%B6%E5%88%9D%E5%A7%8B%E5%8C%96%E9%85%8D%E7%BD%AE"><span class="toc-number">2.</span> <span class="toc-text">第二部分:框架初始化配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E8%A7%84%E8%8C%83"><span class="toc-number">2.1.</span> <span class="toc-text">项目规范</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E8%A7%84%E8%8C%83%E5%BA%94%E7%94%A8%EF%BC%88%E9%87%8D%E8%A6%81%EF%BC%89"><span class="toc-number">2.1.1.</span> <span class="toc-text">项目规范应用（重要）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E6%96%87%E4%BB%B6%E3%80%81%E7%BB%84%E4%BB%B6%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"><span class="toc-number">2.1.1.1.</span> <span class="toc-text">项目文件、组件命名规范</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">2.1.1.2.</span> <span class="toc-text">自动格式化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83"><span class="toc-number">2.1.1.3.</span> <span class="toc-text">提交规范</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E8%A7%84%E8%8C%83%E9%85%8D%E7%BD%AE%E8%BF%87%E7%A8%8B%EF%BC%88%E5%8F%AF%E5%BF%BD%E7%95%A5%E4%B8%8D%E7%9C%8B%EF%BC%89"><span class="toc-number">2.1.2.</span> <span class="toc-text">项目规范配置过程（可忽略不看）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%B7%A5%E5%85%B7%EF%BC%88Prettier%EF%BC%89"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">代码格式化工具（Prettier）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E4%B8%8B%E8%BD%BD-prettier-%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96%EF%BC%9A"><span class="toc-number">2.1.2.1.1.</span> <span class="toc-text">1、下载 prettier 相关依赖：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E5%AE%89%E8%A3%85-Vscode-%E6%8F%92%E4%BB%B6%EF%BC%88Prettier%EF%BC%89%EF%BC%9A"><span class="toc-number">2.1.2.1.2.</span> <span class="toc-text">2、安装 Vscode 插件（Prettier）：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E9%85%8D%E7%BD%AE-Prettier%EF%BC%88-prettierrc-json%EF%BC%89%EF%BC%9A"><span class="toc-number">2.1.2.1.3.</span> <span class="toc-text">3、配置 Prettier（.prettierrc.json）：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E5%B7%A5%E5%85%B7%EF%BC%88ESLint%EF%BC%89"><span class="toc-number">2.1.2.2.</span> <span class="toc-text">代码规范工具（ESLint）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E6%9C%AC%E9%A1%B9%E7%9B%AE%E4%BD%BF%E7%94%A8%E5%88%B0%E7%9A%84-ESLint-%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96%EF%BC%9A"><span class="toc-number">2.1.2.2.1.</span> <span class="toc-text">1、本项目使用到的 ESLint 相关依赖：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E5%AE%89%E8%A3%85-Vscode-%E6%8F%92%E4%BB%B6%EF%BC%88ESLint%EF%BC%89%EF%BC%9A"><span class="toc-number">2.1.2.2.2.</span> <span class="toc-text">2、安装 Vscode 插件（ESLint）：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E9%85%8D%E7%BD%AE-ESLint%EF%BC%88-eslintrc-cjs%EF%BC%89%EF%BC%9A"><span class="toc-number">2.1.2.2.3.</span> <span class="toc-text">3、配置 ESLint（.eslintrc.cjs）：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E5%BC%8F%E8%A7%84%E8%8C%83%E5%B7%A5%E5%85%B7%EF%BC%88StyleLint%EF%BC%89"><span class="toc-number">2.1.2.3.</span> <span class="toc-text">样式规范工具（StyleLint）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E4%B8%8B%E8%BD%BD-StyleLint-%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96%EF%BC%9A"><span class="toc-number">2.1.2.3.1.</span> <span class="toc-text">1、下载 StyleLint 相关依赖：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E5%AE%89%E8%A3%85-Vscode-%E6%8F%92%E4%BB%B6%EF%BC%88StyleLint%EF%BC%89%EF%BC%9A"><span class="toc-number">2.1.2.3.2.</span> <span class="toc-text">2、安装 Vscode 插件（StyleLint）：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E5%9C%A8%E7%9B%AE%E5%BD%95%E7%9A%84-vscode-%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8B%E6%96%B0%E5%BB%BA-settings-json%EF%BC%9A"><span class="toc-number">2.1.2.3.3.</span> <span class="toc-text">3、在目录的 .vscode 文件夹下新建 settings.json：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E9%85%8D%E7%BD%AE-StyleLint%EF%BC%88-stylelintrc-cjs%EF%BC%89%EF%BC%9A"><span class="toc-number">2.1.2.3.4.</span> <span class="toc-text">4、配置 StyleLint（.stylelintrc.cjs）：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EditorConfig-%E9%85%8D%E7%BD%AE"><span class="toc-number">2.1.2.4.</span> <span class="toc-text">EditorConfig 配置</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E7%AE%80%E4%BB%8B%EF%BC%9A"><span class="toc-number">2.1.2.4.1.</span> <span class="toc-text">1、简介：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E5%AE%89%E8%A3%85-VsCode-%E6%8F%92%E4%BB%B6%EF%BC%88EditorConfig-%EF%BC%89%EF%BC%9A"><span class="toc-number">2.1.2.4.2.</span> <span class="toc-text">2、安装 VsCode 插件（EditorConfig ）：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E9%85%8D%E7%BD%AE-EditorConfig%EF%BC%88-editorconfig%EF%BC%89%EF%BC%9A"><span class="toc-number">2.1.2.4.3.</span> <span class="toc-text">3、配置 EditorConfig（.editorconfig）：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Git-%E6%B5%81%E7%A8%8B%E8%A7%84%E8%8C%83%E9%85%8D%E7%BD%AE"><span class="toc-number">2.1.2.5.</span> <span class="toc-text">Git 流程规范配置</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81husky%EF%BC%88%E6%93%8D%E4%BD%9C-git-%E9%92%A9%E5%AD%90%E7%9A%84%E5%B7%A5%E5%85%B7%EF%BC%89%EF%BC%9A"><span class="toc-number">2.1.2.5.1.</span> <span class="toc-text">1、husky（操作 git 钩子的工具）：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81-lint-staged%EF%BC%88%E6%9C%AC%E5%9C%B0%E6%9A%82%E5%AD%98%E4%BB%A3%E7%A0%81%E6%A3%80%E6%9F%A5%E5%B7%A5%E5%85%B7%EF%BC%89"><span class="toc-number">2.1.2.5.2.</span> <span class="toc-text">2、 lint-staged（本地暂存代码检查工具）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81commitlint%EF%BC%88commit-%E4%BF%A1%E6%81%AF%E6%A0%A1%E9%AA%8C%E5%B7%A5%E5%85%B7%EF%BC%8C%E4%B8%8D%E7%AC%A6%E5%90%88%E5%88%99%E6%8A%A5%E9%94%99%EF%BC%89"><span class="toc-number">2.1.2.5.3.</span> <span class="toc-text">3、commitlint（commit 信息校验工具，不符合则报错）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81commitizen%EF%BC%88%E5%9F%BA%E4%BA%8E-Node-js-%E7%9A%84-git-commit-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7%EF%BC%8C%E7%94%9F%E6%88%90%E6%A0%87%E5%87%86%E5%8C%96%E7%9A%84-message%EF%BC%89"><span class="toc-number">2.1.2.5.4.</span> <span class="toc-text">4、commitizen（基于 Node.js 的 git commit 命令行工具，生成标准化的 message）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81cz-git"><span class="toc-number">2.1.2.5.5.</span> <span class="toc-text">5、cz-git</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-package-json-%E5%91%BD%E4%BB%A4"><span class="toc-number">2.1.2.6.</span> <span class="toc-text">配置 package.json 命令</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE"><span class="toc-number">2.2.</span> <span class="toc-text">全局配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE"><span class="toc-number">2.2.1.</span> <span class="toc-text">系统全局变量配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#LOGIN-URL-%E7%99%BB%E5%BD%95%E5%9C%B0%E5%9D%80"><span class="toc-number">2.2.1.1.</span> <span class="toc-text">LOGIN_URL 登录地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DEFAULT-PRIMARY-TYPE-%E9%BB%98%E8%AE%A4%E4%B8%BB%E9%A2%98%E8%89%B2%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.2.1.2.</span> <span class="toc-text">DEFAULT_PRIMARY_TYPE 默认主题色类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#APP-CODE-%E5%BA%94%E7%94%A8code-%E9%87%8D%E7%82%B9"><span class="toc-number">2.2.1.3.</span> <span class="toc-text">APP_CODE 应用code(重点)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HOME-URL-%E9%A6%96%E9%A1%B5%E5%9C%B0%E5%9D%80"><span class="toc-number">2.2.1.4.</span> <span class="toc-text">HOME_URL 首页地址</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1%E5%9C%B0%E5%9D%80%E9%85%8D%E7%BD%AE%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-number">2.2.2.</span> <span class="toc-text">系统服务地址配置（重点）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F"><span class="toc-number">2.3.</span> <span class="toc-text">全局样式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E4%BD%93%E5%9B%BE%E6%A0%87%E4%BD%BF%E7%94%A8"><span class="toc-number">2.4.</span> <span class="toc-text">字体图标使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%83%E5%B1%80%EF%BC%88%E4%B8%80%E8%88%AC%E6%97%A0%E9%9C%80%E6%94%B9%E5%8A%A8%EF%BC%89"><span class="toc-number">2.5.</span> <span class="toc-text">布局（一般无需改动）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B6%E9%83%A8%E5%AF%BC%E8%88%AA%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.5.1.</span> <span class="toc-text">顶部导航的介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#title"><span class="toc-number">2.5.1.1.</span> <span class="toc-text">title</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#logo"><span class="toc-number">2.5.1.2.</span> <span class="toc-text">logo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E5%8F%B3%E4%BE%A7%EF%BC%9A"><span class="toc-number">2.5.1.3.</span> <span class="toc-text">导航右侧：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%90%8D%E7%A7%B0%E6%98%BE%E7%A4%BA"><span class="toc-number">2.5.1.3.1.</span> <span class="toc-text">用户名称显示</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B6%88%E6%81%AF%E6%8F%90%E7%A4%BA"><span class="toc-number">2.5.1.3.2.</span> <span class="toc-text">消息提示</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%9B%BE%E6%A0%87%E4%B8%AD%E6%9B%B4%E5%A4%9A%E5%8A%9F%E8%83%BD-%E8%BF%99%E9%87%8C%E6%98%AF"><span class="toc-number">2.5.1.3.3.</span> <span class="toc-text">设置图标中更多功能(这里是)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8F%9C%E5%8D%95%E5%B8%83%E5%B1%80%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.5.2.</span> <span class="toc-text">菜单布局的介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tab%E9%A1%B5%E7%AD%BE%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.5.3.</span> <span class="toc-text">tab页签的介绍</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86-%E5%9F%BA%E7%A1%80%E5%8A%9F%E8%83%BD%E4%BD%BF%E7%94%A8"><span class="toc-number">3.</span> <span class="toc-text">第三部分:基础功能使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6"><span class="toc-number">3.1.</span> <span class="toc-text">公共组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A6%E5%8F%B3%E5%B8%83%E5%B1%80%E7%BB%84%E4%BB%B6TwoColPage"><span class="toc-number">3.1.1.</span> <span class="toc-text">左右布局组件TwoColPage</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E4%BA%BA%E7%BB%84%E4%BB%B6UserSelect"><span class="toc-number">3.1.2.</span> <span class="toc-text">选人组件UserSelect</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BD%E9%99%85%E5%8C%96"><span class="toc-number">3.2.</span> <span class="toc-text">国际化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E8%AF%AD%E8%A8%80%E5%8C%85%EF%BC%9A"><span class="toc-number">3.2.1.</span> <span class="toc-text"> 定义语言包：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%AF%B9%E8%AF%AD%E8%A8%80%E5%8C%85%E8%BF%9B%E8%A1%8C%E6%95%B4%E5%90%88"><span class="toc-number">3.2.2.</span> <span class="toc-text">创建对象，对语言包进行整合</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%A4%9A%E8%AF%AD%E8%A8%80%E9%85%8D%E7%BD%AE"><span class="toc-number">3.2.2.1.</span> <span class="toc-text">静态多语言配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%A4%9A%E8%AF%AD%E8%A8%80%E9%85%8D%E7%BD%AE"><span class="toc-number">3.2.2.2.</span> <span class="toc-text">动态多语言配置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E8%AF%AD%E8%A8%80%E5%8C%85"><span class="toc-number">3.2.3.</span> <span class="toc-text">引入语言包</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E6%9C%AC%E5%9C%B0%E8%AF%AD%E8%A8%80%E5%8C%85-%E5%8F%AF%E4%B8%8D%E7%9C%8B"><span class="toc-number">3.2.3.1.</span> <span class="toc-text">引入本地语言包 (可不看)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E5%8A%A8%E6%80%81%E6%95%B0%E6%8D%AE%E8%AF%AD%E8%A8%80%E5%8C%85-%E5%8F%AF%E4%B8%8D%E7%9C%8B"><span class="toc-number">3.2.3.2.</span> <span class="toc-text">引入动态数据语言包(可不看)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E7%AC%AC%E4%B8%89%E6%96%B9%E8%AF%AD%E8%A8%80%E5%8C%85"><span class="toc-number">3.2.3.3.</span> <span class="toc-text">引入第三方语言包</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%82%E8%BD%BD%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.2.4.</span> <span class="toc-text">挂载对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-number">3.2.5.</span> <span class="toc-text">使用（重点）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E6%A8%A1%E6%9D%BF%E4%B8%AD%E4%BD%BF%E7%94%A8"><span class="toc-number">3.2.5.1.</span> <span class="toc-text">在模板中使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8vue%E6%96%87%E4%BB%B6%E4%B8%ADscript%E4%B8%AD%E4%BD%BF%E7%94%A8"><span class="toc-number">3.2.5.2.</span> <span class="toc-text">在vue文件中script中使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E6%99%AE%E9%80%9Ats%E6%88%96js%E6%96%87%E4%BB%B6%E4%B8%AD%E4%BD%BF%E7%94%A8%EF%BC%9A"><span class="toc-number">3.2.5.3.</span> <span class="toc-text">在普通ts或js文件中使用：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E3%80%81%E8%8F%9C%E5%8D%95"><span class="toc-number">3.3.</span> <span class="toc-text">路由、菜单</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84-1"><span class="toc-number">3.3.1.</span> <span class="toc-text">目录结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0"><span class="toc-number">3.3.2.</span> <span class="toc-text">路由参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%AE%9E%E7%8E%B0"><span class="toc-number">3.3.3.</span> <span class="toc-text">路由实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E7%9A%84%E8%B7%AF%E7%94%B1%E7%BB%93%E6%9E%9C"><span class="toc-number">3.3.4.</span> <span class="toc-text">生成的路由结果</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E7%BA%A7%E8%B7%AF%E7%94%B1"><span class="toc-number">3.3.4.1.</span> <span class="toc-text">一级路由</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E7%BA%A7%E8%B7%AF%E7%94%B1"><span class="toc-number">3.3.4.2.</span> <span class="toc-text">二级路由</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8F%9C%E5%8D%95"><span class="toc-number">3.3.5.</span> <span class="toc-text">菜单</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="toc-number">3.4.</span> <span class="toc-text">权限管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-number">3.4.1.</span> <span class="toc-text">权限的配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E9%A1%B9%E9%85%8D%E7%BD%AE"><span class="toc-number">3.4.1.1.</span> <span class="toc-text">权限项配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8F%9C%E5%8D%95%E9%85%8D%E7%BD%AE"><span class="toc-number">3.4.1.2.</span> <span class="toc-text">菜单配置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.4.2.</span> <span class="toc-text">权限的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8F%9C%E5%8D%95%E6%9D%83%E9%99%90%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.4.2.1.</span> <span class="toc-text">菜单权限的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E9%92%AE%E6%9D%83%E9%99%90%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.4.2.2.</span> <span class="toc-text">按钮权限的使用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82"><span class="toc-number">3.5.</span> <span class="toc-text">网络请求</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84-2"><span class="toc-number">3.5.1.</span> <span class="toc-text">目录结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-number">3.5.2.</span> <span class="toc-text">配置（重点）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E6%8B%A6%E6%88%AA"><span class="toc-number">3.5.3.</span> <span class="toc-text">请求拦截</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E6%8B%A6%E6%88%AA"><span class="toc-number">3.5.4.</span> <span class="toc-text">响应拦截</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-number">3.5.5.</span> <span class="toc-text">示例（重点）</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/02/05/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/" title="前端开发框架使用指南">前端开发框架使用指南</a><time datetime="2025-02-05T15:27:17.000Z" title="发表于 2025-02-05 15:27:17">2025-02-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/02/05/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/" title="前端开发规范">前端开发规范</a><time datetime="2025-02-05T15:27:17.000Z" title="发表于 2025-02-05 15:27:17">2025-02-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/22/Docker%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" title="Docker使用教程">Docker使用教程</a><time datetime="2025-01-22T16:43:02.000Z" title="发表于 2025-01-22 16:43:02">2025-01-22</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/08/%E5%BE%AE%E5%89%8D%E7%AB%AF/" title="微前端">微前端</a><time datetime="2025-01-08T17:53:05.000Z" title="发表于 2025-01-08 17:53:05">2025-01-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/12/15/Vue%E8%87%AA%E5%8A%A8%E5%8E%8B%E7%BC%A9dist%E6%96%87%E4%BB%B6/" title="Vue自动压缩dist文件">Vue自动压缩dist文件</a><time datetime="2023-12-15T17:35:26.000Z" title="发表于 2023-12-15 17:35:26">2023-12-15</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><div class="aplayer no-destroy" data-id="728025655" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="true" data-lrctype="0"> </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>